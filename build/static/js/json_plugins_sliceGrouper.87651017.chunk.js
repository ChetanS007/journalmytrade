"use strict";(self.webpackChunkjournalmytrade=self.webpackChunkjournalmytrade||[]).push([[48],{326:function(t,e,a){a.d(e,{SliceGrouper:function(){return m}});var i=a(7853),o=a(4531),s=a(6148),n=a(4474),r=a(3538),h=a(1020),u=a(8334),l=a(3446),c=a(5368),g=a(8505),v=a(4921),m=function(t){(0,h.Z)(a,t);var e=(0,u.Z)(a);function a(){var t;return(0,i.Z)(this,a),t=e.apply(this,arguments),Object.defineProperty((0,s.Z)(t),"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return(0,o.Z)(a,[{key:"_afterNew",value:function(){(0,n.Z)((0,r.Z)(a.prototype),"_afterNew",this).call(this),this._setRawDefault("threshold",5),this._setRawDefault("groupName","Other"),this._setRawDefault("clickBehavior","none"),this.initZoomButton(),this._root.addDisposer(this)}},{key:"initZoomButton",value:function(){var t=this;if("none"!==this.get("clickBehavior")){var e=this.root.tooltipContainer;this.zoomOutButton=e.children.push(l.z.new(this._root,{themeTags:["zoom"],icon:c.T.new(this._root,{themeTags:["button","icon"]})})),this.zoomOutButton.hide(),this.zoomOutButton.events.on("click",(function(){t.zoomOut()}))}}},{key:"handleData",value:function(){var t=this,e=this.get("series");if(e){var a=this.getPrivate("groupDataItem");if(!a){var i=this.get("legend"),o=e.get("categoryField","category"),s=e.get("valueField","value"),n={};n[o]=this.get("groupName",""),n[s]=0,e.data.push(n),(a=e.dataItems[e.dataItems.length-1]).get("slice").events.on("click",(function(){t.handleClick()})),this.setPrivate("groupDataItem",a),i&&(i.data.push(a),a.on("visible",(function(e){e&&t.zoomOut()})))}var r=this.get("threshold",0),h=this.get("limit",1e3),u=[],l=[],c=0;(r||h)&&(v.S6(e.dataItems,(function(t,e){var i=t.get("legendDataItem");(t.get("valuePercentTotal")<=r||e>h-1)&&a!==t?(c+=t.get("value",0),l.push(t),t.hide(0),i&&i.get("itemContainer").hide(0)):(u.push(t),i&&i.get("itemContainer").show(0))})),this.setPrivate("normalDataItems",u),this.setPrivate("smallDataItems",l),this.updateGroupDataItem(c))}}},{key:"zoomOut",value:function(){var t=this.getPrivate("groupDataItem");if(t&&t.show(),"zoom"==this.get("clickBehavior")){var e=this.getPrivate("normalDataItems",[]);v.S6(e,(function(t,e){t.show()}))}var a=this.getPrivate("smallDataItems",[]);v.S6(a,(function(t,e){t.hide()})),this.zoomOutButton&&this.zoomOutButton.hide()}},{key:"updateGroupDataItem",value:function(t){var e=this.get("series");if(e){var a={},i=e.get("categoryField","category"),o=e.get("valueField","value");a[i]=this.get("groupName",""),a[o]=t,e.data.setIndex(e.data.length-1,a);var s=this.getPrivate("groupDataItem");0==t?s.hide(0):s.isHidden()&&s.show(),"none"!=this.get("clickBehavior")&&s.get("slice").set("toggleKey","none")}}},{key:"handleClick",value:function(){var t=this.get("clickBehavior"),e=this.getPrivate("smallDataItems");if(!("none"==t||e&&0==e.length)){var a=this.get("series");this.getPrivate("groupDataItem").hide(),v.S6(a.dataItems,(function(a){-1!==e.indexOf(a)?a.show():"zoom"==t&&a.hide()})),this.zoomOutButton.show()}}},{key:"_beforeChanged",value:function(){var t=this;if((0,n.Z)((0,r.Z)(a.prototype),"_beforeChanged",this).call(this),this.isDirty("series")){var e=this.get("series");e&&e.events.on("datavalidated",(function(e){t.handleData()}))}}}]),a}(g.JH);Object.defineProperty(m,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SliceGrouper"}),Object.defineProperty(m,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:g.JH.classNames.concat([m.className])})}}]);
//# sourceMappingURL=json_plugins_sliceGrouper.87651017.chunk.js.map