{"version":3,"file":"static/js/json_hierarchy.cad51167.chunk.js","mappings":"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","sources":["../node_modules/src/.internal/charts/hierarchy/HierarchyDefaultTheme.ts","../node_modules/src/.internal/charts/hierarchy/BreadcrumbBar.ts","../node_modules/src/.internal/charts/hierarchy/HierarchyNode.ts","../node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/d3-hierarchy/src/hierarchy/iterator.js","../node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/d3-hierarchy/src/hierarchy/find.js","../node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/d3-hierarchy/src/hierarchy/links.js","../node_modules/src/.internal/charts/hierarchy/Hierarchy.ts","../node_modules/src/.internal/charts/hierarchy/LinkedHierarchyNode.ts","../node_modules/src/.internal/charts/hierarchy/HierarchyLink.ts","../node_modules/src/.internal/charts/hierarchy/LinkedHierarchy.ts","../node_modules/d3-force/src/lcg.js","../node_modules/d3-force/src/simulation.js","../node_modules/d3-quadtree/src/add.js","../node_modules/d3-quadtree/src/quad.js","../node_modules/d3-quadtree/src/x.js","../node_modules/d3-quadtree/src/y.js","../node_modules/d3-quadtree/src/quadtree.js","../node_modules/d3-force/src/constant.js","../node_modules/d3-force/src/jiggle.js","../node_modules/d3-force/src/collide.js","../node_modules/d3-force/src/link.js","../node_modules/d3-quadtree/src/cover.js","../node_modules/d3-quadtree/src/data.js","../node_modules/d3-quadtree/src/extent.js","../node_modules/d3-quadtree/src/find.js","../node_modules/d3-quadtree/src/remove.js","../node_modules/d3-quadtree/src/root.js","../node_modules/d3-quadtree/src/size.js","../node_modules/d3-quadtree/src/visit.js","../node_modules/d3-quadtree/src/visitAfter.js","../node_modules/src/.internal/charts/hierarchy/ForceDirected.ts","../node_modules/d3-force/src/x.js","../node_modules/d3-force/src/y.js","../node_modules/d3-force/src/manyBody.js","../node_modules/d3-hierarchy/src/accessors.js","../node_modules/d3-hierarchy/src/constant.js","../node_modules/d3-hierarchy/src/lcg.js","../node_modules/d3-hierarchy/src/pack/enclose.js","../node_modules/d3-hierarchy/src/array.js","../node_modules/d3-hierarchy/src/pack/siblings.js","../node_modules/d3-hierarchy/src/pack/index.js","../node_modules/src/.internal/charts/hierarchy/Pack.ts","../node_modules/d3-hierarchy/src/treemap/round.js","../node_modules/d3-hierarchy/src/treemap/dice.js","../node_modules/d3-hierarchy/src/partition.js","../node_modules/src/.internal/charts/hierarchy/Partition.ts","../node_modules/src/.internal/charts/hierarchy/Sunburst.ts","../node_modules/d3-hierarchy/src/tree.js","../node_modules/src/.internal/charts/hierarchy/Tree.ts","../node_modules/d3-hierarchy/src/treemap/slice.js","../node_modules/d3-hierarchy/src/treemap/squarify.js","../node_modules/d3-hierarchy/src/treemap/index.js","../node_modules/d3-hierarchy/src/treemap/binary.js","../node_modules/d3-hierarchy/src/treemap/sliceDice.js","../node_modules/src/.internal/charts/hierarchy/Treemap.ts","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-timer/src/timer.js"],"sourcesContent":["import { Theme } from \"../../core/Theme\";\r\nimport { percent, p100, p50 } from \"../../core/util/Percent\";\r\nimport { ColorSet } from \"../../core/util/ColorSet\";\r\nimport { setColor } from \"../../themes/DefaultTheme\";\r\n\r\nimport * as $ease from \"../../core/util/Ease\";\r\n\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport class HierarchyDefaultTheme extends Theme {\r\n\tprotected setupDefaultRules() {\r\n\t\tsuper.setupDefaultRules();\r\n\r\n\t\tconst ic = this._root.interfaceColors;\r\n\t\tconst gridLayout = this._root.gridLayout;\r\n\t\tconst r = this.rule.bind(this);\r\n\r\n\t\t/**\r\n\t\t * ========================================================================\r\n\t\t * charts/hierarchy\r\n\t\t * ========================================================================\r\n\t\t */\r\n\r\n\t\tr(\"Hierarchy\").setAll({\r\n\t\t\tlegendLabelText: \"{category}\",\r\n\t\t\tlegendValueText: \"{sum.formatNumber('#.#')}\",\r\n\t\t\twidth: p100,\r\n\t\t\theight: p100,\r\n\t\t\tcolors: ColorSet.new(this._root, { step: 2 }),\r\n\t\t\tdownDepth: 1,\r\n\t\t\tinitialDepth: 5,\r\n\t\t\tsingleBranchOnly: true,\r\n\t\t\tmaskContent: true,\r\n\t\t\tanimationEasing: $ease.out($ease.cubic)\r\n\t\t});\r\n\r\n\t\tr(\"HierarchyNode\").setAll({\r\n\t\t\ttoggleKey: \"disabled\",\r\n\t\t\tsetStateOnChildren: true,\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tisMeasured: false,\r\n\t\t\tcursorOverStyle: \"pointer\",\r\n\t\t\ttooltipText: \"{category}: {sum}\"\r\n\t\t});\r\n\r\n\t\tr(\"HierarchyNode\", [\"last\"]).setAll({\r\n\t\t\tcursorOverStyle: \"default\"\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Label\", [\"hierarchy\", \"node\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tcenterX: p50,\r\n\t\t\t\tcenterY: p50,\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\tpaddingBottom: 1,\r\n\t\t\t\tpaddingTop: 1,\r\n\t\t\t\tpaddingRight: 4,\r\n\t\t\t\tpaddingLeft: 4,\r\n\t\t\t\ttext: \"{category}\",\r\n\t\t\t\tpopulateText: true,\r\n\t\t\t\toversizedBehavior: \"fit\",\r\n\t\t\t\tminScale: 0.3\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"fill\", ic, \"alternativeText\");\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"HierarchyLink\");\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tisMeasured: false,\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\tstrokeWidth: 1,\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tstrength: 0.9,\r\n\t\t\t\tdistance: 1.1\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"grid\");\r\n\t\t}\r\n\r\n\t\tr(\"Circle\", [\"linkedhierarchy\", \"shape\"]).setAll({\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tfillOpacity: 1,\r\n\t\t\tstrokeOpacity: 0,\r\n\t\t\tradius: 15,\r\n\t\t\ttooltipY: 0\r\n\t\t});\r\n\r\n\t\tr(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).setAll({\r\n\t\t\tposition: \"absolute\",\r\n\t\t\topacity: 1,\r\n\t\t\tfillOpacity: 0,\r\n\t\t\tstrokeDasharray: 0,\r\n\t\t\tstrokeOpacity: 1,\r\n\t\t\tradius: 15,\r\n\t\t\tscale: 1.1,\r\n\t\t\tinteractive: false\r\n\t\t})\r\n\r\n\t\tr(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).states.create(\"disabled\", { opacity: 1, scale: 1.1, strokeDasharray: 2 });\r\n\t\tr(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).states.create(\"hoverDisabled\", { scale: 1.2, opacity: 1, strokeDasharray: 2 });\r\n\t\tr(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).states.create(\"hover\", { scale: 1.05, strokeDasharray: 0 });\r\n\t\tr(\"Circle\", [\"linkedhierarchy\", \"shape\", \"outer\"]).states.create(\"hidden\", { opacity: 0, strokeDasharray: 0 });\r\n\r\n\r\n\t\t/**\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t * charts/hierarchy: BreadcrumbBar\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tr(\"BreadcrumbBar\").setAll({\r\n\t\t\tpaddingLeft: 8,\r\n\t\t\tlayout: gridLayout\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Label\", [\"breadcrumb\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tpaddingRight: 4,\r\n\t\t\t\tpaddingLeft: 4,\r\n\t\t\t\tcursorOverStyle: \"pointer\",\r\n\t\t\t\tpopulateText: true,\r\n\t\t\t\ttext: \"{category}:\",\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"fill\", ic, \"primaryButton\");\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Label\", [\"breadcrumb\"]).states.create(\"hover\", {});\r\n\t\t\tsetColor(rule, \"fill\", ic, \"primaryButtonHover\");\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Label\", [\"breadcrumb\"]).states.create(\"down\", { stateAnimationDuration: 0 });\r\n\t\t\tsetColor(rule, \"fill\", ic, \"primaryButtonDown\");\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Label\", [\"breadcrumb\", \"last\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tpopulateText: true,\r\n\t\t\t\ttext: \"{category}\",\r\n\t\t\t\tfontWeight: \"bold\",\r\n\t\t\t\tcursorOverStyle: \"default\"\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"fill\", ic, \"primaryButton\");\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"RoundedRectangle\", [\"breadcrumb\", \"label\", \"background\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tfillOpacity: 0,\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"fill\", ic, \"background\");\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t * charts/hierarchy: Partition\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tr(\"Partition\").setAll({\r\n\t\t\tdownDepth: 1,\r\n\t\t\tupDepth: 0,\r\n\t\t\tinitialDepth: 5\r\n\t\t});\r\n\r\n\t\tr(\"HierarchyNode\", [\"partition\"]).setAll({\r\n\t\t\tsetStateOnChildren: false\r\n\t\t});\r\n\r\n\t\tr(\"HierarchyNode\", [\"partition\"]).states.create(\"hidden\", {\r\n\t\t\topacity: 1,\r\n\t\t\tvisible: true\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Label\", [\"partition\", \"node\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tx: p50,\r\n\t\t\t\ty: p50,\r\n\t\t\t\tcenterY: p50,\r\n\t\t\t\tcenterX: p50,\r\n\t\t\t\tpaddingBottom: 1,\r\n\t\t\t\tpaddingTop: 1,\r\n\t\t\t\tpaddingLeft: 1,\r\n\t\t\t\tpaddingRight: 1,\r\n\t\t\t\trotation: 90,\r\n\t\t\t\tpopulateText: true,\r\n\t\t\t\ttext: \"{category}\",\r\n\t\t\t\toversizedBehavior: \"fit\",\r\n\t\t\t\tminScale: 0.4\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"fill\", ic, \"alternativeText\");\r\n\t\t}\r\n\r\n\t\tr(\"Label\", [\"horizontal\", \"partition\", \"node\"]).setAll({\r\n\t\t\trotation: 0\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"RoundedRectangle\", [\"partition\", \"node\", \"shape\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tstrokeWidth: 1,\r\n\t\t\t\tcornerRadiusBR: 0,\r\n\t\t\t\tcornerRadiusTR: 0,\r\n\t\t\t\tcornerRadiusBL: 0,\r\n\t\t\t\tcornerRadiusTL: 0\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"background\");\r\n\t\t}\r\n\r\n\t\tr(\"RoundedRectangle\", [\"partition\", \"node\", \"shape\", \"last\"]).setAll({\r\n\t\t\tfillOpacity: 0.75\r\n\t\t});\r\n\r\n\r\n\t\t/**\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t * charts/hierarchy: Sunburst\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tr(\"Sunburst\").setAll({\r\n\t\t\tsingleBranchOnly: true\r\n\t\t});\r\n\r\n\t\tr(\"HierarchyNode\", [\"sunburst\"]).setAll({\r\n\t\t\tsetStateOnChildren: false\r\n\t\t});\r\n\r\n\t\tr(\"HierarchyNode\", [\"sunburst\"]).states.create(\"hidden\", {\r\n\t\t\topacity: 0,\r\n\t\t\tvisible: false\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Slice\", [\"sunburst\", \"node\", \"shape\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tstrokeWidth: 1,\r\n\t\t\t\tcornerRadius: 0\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"background\");\r\n\t\t}\r\n\r\n\t\tr(\"Slice\", [\"sunburst\", \"node\", \"shape\", \"last\"]).setAll({\r\n\t\t\tfillOpacity: 0.75\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"RadialLabel\", [\"sunburst\", \"node\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0,\r\n\t\t\t\ttextType: \"radial\",\r\n\t\t\t\tpaddingBottom: 1,\r\n\t\t\t\tpaddingTop: 1,\r\n\t\t\t\tpaddingLeft: 1,\r\n\t\t\t\tpaddingRight: 1,\r\n\t\t\t\tcenterX: p50,\r\n\t\t\t\tpopulateText: true,\r\n\t\t\t\ttext: \"{category}\",\r\n\t\t\t\toversizedBehavior: \"fit\",\r\n\t\t\t\tminScale: 0.4,\r\n\t\t\t\tbaseRadius: p50,\r\n\t\t\t\trotation: 0\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"fill\", ic, \"alternativeText\");\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t * charts/hierarchy: ForceDirected\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tr(\"ForceDirected\").setAll({\r\n\t\t\tminRadius: percent(1),\r\n\t\t\tmaxRadius: percent(8),\r\n\t\t\tinitialFrames: 500,\r\n\t\t\tcenterStrength: 0.8,\r\n\t\t\tmanyBodyStrength: -14,\r\n\t\t\tvelocityDecay: 0.5,\r\n\t\t\tlinkWithStrength: 0.5,\r\n\t\t\tshowOnFrame: 10,\r\n\t\t\tsingleBranchOnly: false,\r\n\t\t\tupDepth: Infinity,\r\n\t\t\tdownDepth: 1,\r\n\t\t\tinitialDepth: 5,\r\n\t\t\ttopDepth: 0\r\n\t\t});\r\n\r\n\r\n\t\t/**\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t * charts/hierarchy: Tree\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tr(\"Tree\").setAll({\r\n\t\t\torientation: \"vertical\",\r\n\t\t\tpaddingLeft: 20,\r\n\t\t\tpaddingRight: 20,\r\n\t\t\tpaddingTop: 20,\r\n\t\t\tpaddingBottom: 20,\r\n\t\t\tsingleBranchOnly: false,\r\n\t\t\tupDepth: Infinity,\r\n\t\t\tdownDepth: 1,\r\n\t\t\tinitialDepth: 5,\r\n\t\t\ttopDepth: 0\r\n\t\t});\r\n\r\n\r\n\t\t/**\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t * charts/hierarchy: Pack\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tr(\"Pack\").setAll({\r\n\t\t\tpaddingLeft: 20,\r\n\t\t\tpaddingTop: 20,\r\n\t\t\tpaddingBottom: 20,\r\n\t\t\tpaddingRight: 20,\r\n\t\t\tnodePadding: 0\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Label\", [\"pack\", \"node\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tcenterY: p50,\r\n\t\t\t\tcenterX: p50,\r\n\t\t\t\tpaddingBottom: 1,\r\n\t\t\t\tpaddingTop: 1,\r\n\t\t\t\tpaddingLeft: 1,\r\n\t\t\t\tpaddingRight: 1,\r\n\t\t\t\tpopulateText: true,\r\n\t\t\t\ttext: \"{category}\",\r\n\t\t\t\toversizedBehavior: \"fit\",\r\n\t\t\t\tminScale: 0.4\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"fill\", ic, \"alternativeText\");\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Circle\", [\"pack\", \"node\", \"shape\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tstrokeOpacity: 0.5,\r\n\t\t\t\tfillOpacity: 0.8,\r\n\t\t\t\tstrokeWidth: 1,\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"background\");\r\n\t\t}\r\n\r\n\r\n\t\tr(\"LinkedHierarchyNode\").setAll({\r\n\t\t\tdraggable: true\r\n\t\t});\r\n\r\n\t\tr(\"LinkedHierarchyNode\").states.create(\"hidden\", { scale: 0, opacity: 0, visible: false });\r\n\r\n\r\n\t\t/**\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t * charts/hierarchy: Treemap\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\tr(\"Treemap\").setAll({\r\n\t\t\tupDepth: 0,\r\n\t\t\tlayoutAlgorithm: \"squarify\"\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Label\", [\"treemap\", \"node\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tx: p50,\r\n\t\t\t\ty: p50,\r\n\t\t\t\tcenterY: p50,\r\n\t\t\t\tcenterX: p50,\r\n\t\t\t\tpaddingBottom: 1,\r\n\t\t\t\tpaddingTop: 1,\r\n\t\t\t\tpaddingLeft: 1,\r\n\t\t\t\tpaddingRight: 1,\r\n\t\t\t\tpopulateText: true,\r\n\t\t\t\ttext: \"{category}\",\r\n\t\t\t\toversizedBehavior: \"fit\",\r\n\t\t\t\tminScale: 0.4\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"fill\", ic, \"alternativeText\");\r\n\t\t}\r\n\r\n\t\tr(\"HierarchyNode\", [\"treemap\", \"node\"]).setAll({\r\n\t\t\ttooltipY: percent(40),\r\n\t\t\tisMeasured: false,\r\n\t\t\tposition: \"absolute\"\r\n\t\t});\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"RoundedRectangle\", [\"treemap\", \"node\", \"shape\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tstrokeWidth: 1,\r\n\t\t\t\tcornerRadiusBR: 0,\r\n\t\t\t\tcornerRadiusTR: 0,\r\n\t\t\t\tcornerRadiusBL: 0,\r\n\t\t\t\tcornerRadiusTL: 0,\r\n\t\t\t\tfillOpacity: 1\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"background\");\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t * charts/hierarchy: Voronoi Treemap\r\n\t\t * ------------------------------------------------------------------------\r\n\t\t */\r\n\r\n\t\t{\r\n\t\t\tr(\"VoronoiTreemap\").setAll({\r\n\t\t\t\ttype: \"polygon\",\r\n\t\t\t\tminWeightRatio: 0.005,\r\n\t\t\t\tconvergenceRatio: 0.005,\r\n\t\t\t\tmaxIterationCount: 100,\r\n\t\t\t\tsingleBranchOnly: true\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Graphics\", [\"voronoitreemap\", \"node\", \"shape\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tstrokeOpacity: 1,\r\n\t\t\t\tstrokeWidth: 1,\r\n\t\t\t\tfillOpacity: 1\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"stroke\", ic, \"background\");\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tr(\"Polygon\", [\"hierarchy\", \"node\", \"shape\", \"depth1\"]).setAll({\r\n\t\t\t\tstrokeWidth: 3\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tconst rule = r(\"Label\", [\"voronoitreemap\"]);\r\n\r\n\t\t\trule.setAll({\r\n\t\t\t\tcenterY: p50,\r\n\t\t\t\tcenterX: p50,\r\n\t\t\t\tpaddingBottom: 1,\r\n\t\t\t\tpaddingTop: 1,\r\n\t\t\t\tpaddingLeft: 1,\r\n\t\t\t\tpaddingRight: 1,\r\n\t\t\t\tpopulateText: true,\r\n\t\t\t\ttext: \"{category}\",\r\n\t\t\t\toversizedBehavior: \"fit\",\r\n\t\t\t\tminScale: 0.4,\r\n\t\t\t\tlayer: 30\r\n\t\t\t});\r\n\r\n\t\t\tsetColor(rule, \"fill\", ic, \"alternativeText\");\r\n\t\t}\r\n\r\n\t}\r\n}\r\n","import type { DataItem } from \"../../core/render/Component\";\nimport type { IDisposer } from \"../../core/util/Disposer\";\nimport type { Hierarchy, IHierarchyDataItem } from \"./Hierarchy\";\n\nimport { HierarchyDefaultTheme } from \"./HierarchyDefaultTheme\";\nimport { Container, IContainerPrivate, IContainerSettings, IContainerEvents } from \"../../core/render/Container\";\nimport { Label } from \"../../core/render/Label\";\nimport { RoundedRectangle } from \"../../core/render/RoundedRectangle\";\nimport { Template } from \"../../core/util/Template\";\nimport { ListTemplate } from \"../../core/util/List\";\n\nimport * as $utils from \"../../core/util/Utils\";\n\nexport interface IBreadcrumbBarSettings extends IContainerSettings {\n\n\t/**\n\t * A hierarchy series bar will use to build current selection path.\n\t */\n\tseries: Hierarchy;\n\n}\n\nexport interface IBreadcrumbBarPrivate extends IContainerPrivate {\n}\n\nexport interface IBreadcrumbBarEvents extends IContainerEvents {\n}\n\n/**\n * Creates a breadcrumb navigation control.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/breadcrumbs/} for more info\n * @important\n */\nexport class BreadcrumbBar extends Container {\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeLabel(dataItem: DataItem<IHierarchyDataItem>): Label {\n\t\tconst label = this.labels.make();\n\t\tlabel._setDataItem(dataItem);\n\t\tlabel.states.create(\"hover\", {});\n\t\tlabel.states.create(\"down\", {});\n\t\tlabel.events.on(\"click\", () => {\n\t\t\tconst series = this.get(\"series\");\n\t\t\tif (series) {\n\t\t\t\tseries.selectDataItem(dataItem);\n\t\t\t}\n\t\t});\n\n\t\tthis.labels.push(label);\n\n\t\treturn label;\n\t}\n\n\t/**\n\t * A list of labels in the bar.\n\t *\n\t * `labels.template` can be used to configure label apperance and behavior.\n\t *\n\t * @default new ListTemplate<Label>\n\t */\n\tpublic readonly labels: ListTemplate<Label> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Label._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.labels.template.get(\"themeTags\", []), [\"label\"]),\n\t\t\tbackground: RoundedRectangle.new(this._root, {\n\t\t\t\tthemeTags: [\"background\"]\n\t\t\t})\n\t\t}, [this.labels.template])\n\t);\n\n\tpublic static className: string = \"BreadcrumbBar\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([BreadcrumbBar.className]);\n\n\tdeclare public _settings: IBreadcrumbBarSettings;\n\tdeclare public _privateSettings: IBreadcrumbBarPrivate;\n\tdeclare public _events: IBreadcrumbBarEvents;\n\n\tprotected _disposer: IDisposer | undefined;\n\n\tprotected _afterNew() {\n\t\tthis._defaultThemes.push(HierarchyDefaultTheme.new(this._root));\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"breadcrumb\"]);\n\n\t\tsuper._afterNew();\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\t\tif (this.isDirty(\"series\")) {\n\t\t\tconst series = this.get(\"series\");\n\t\t\tconst previous = this._prevSettings.series;\n\t\t\tif (series != previous) {\n\t\t\t\tthis._disposer = series.events.on(\"dataitemselected\", (event) => {\n\t\t\t\t\tthis._handleDataItem(event.dataItem)\n\t\t\t\t})\n\t\t\t}\n\t\t\telse if (previous) {\n\t\t\t\tif (this._disposer) {\n\t\t\t\t\tthis._disposer.dispose();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._handleDataItem(series.get(\"selectedDataItem\"));\n\t\t}\n\t}\n\n\tprotected _handleDataItem(dataItem: DataItem<IHierarchyDataItem> | undefined) {\n\t\tthis.set(\"minHeight\", this.height());\n\t\tthis.children.clear();\n\t\tthis.labels.clear();\n\n\t\tif (dataItem) {\n\t\t\tlet parent = dataItem;\n\n\t\t\twhile (parent) {\n\t\t\t\tlet label = this.makeLabel(parent);\n\t\t\t\tif (parent == dataItem) {\n\t\t\t\t\tlabel.addTag(\"last\");\n\t\t\t\t}\n\t\t\t\tthis.children.moveValue(label, 0);\n\t\t\t\tparent = parent.get(\"parent\");\n\t\t\t}\n\t\t}\n\t}\n}\n","import type { DataItem } from \"../../core/render/Component\";\nimport type { IDisposer } from \"../../core/util/Disposer\";\nimport type { Hierarchy, IHierarchyDataItem } from \"./Hierarchy\";\n\nimport { Container, IContainerPrivate, IContainerSettings } from \"../../core/render/Container\";\n\nexport interface IHierarchyNodeSettings extends IContainerSettings {\n}\n\nexport interface IHierarchyNodePrivate extends IContainerPrivate {\n}\n\n/**\n * Base class for hierarchy nodes.\n */\nexport class HierarchyNode extends Container {\n\n\t/**\n\t * Related series.\n\t */\n\tpublic series: Hierarchy | undefined;\n\n\tdeclare public _settings: IHierarchyNodeSettings;\n\tdeclare public _privateSettings: IHierarchyNodePrivate;\n\n\tpublic static className: string = \"HierarchyNode\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([HierarchyNode.className]);\n\n\tdeclare protected _dataItem: DataItem<IHierarchyDataItem> | undefined;\n\n\tprotected _clickDisposer: IDisposer | undefined;\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\n\t\tthis.states.create(\"disabled\", {});\n\t\tthis.states.create(\"hover\", {});\n\t\tthis.states.create(\"hoverDisabled\", {});\n\n\t\tthis.on(\"disabled\", () => {\n\t\t\tconst dataItem = this.dataItem as DataItem<IHierarchyDataItem>;\n\t\t\tif (!dataItem.get(\"children\")) {\n\t\t\t\tthis.set(\"disabled\", true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst disabled = this.get(\"disabled\");\n\t\t\tconst series = this.series;\n\n\t\t\tif (dataItem && series) {\n\t\t\t\tif (dataItem.get(\"disabled\") != disabled) {\n\t\t\t\t\tif (disabled) {\n\t\t\t\t\t\tseries.disableDataItem(dataItem);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tseries.enableDataItem(dataItem, series.get(\"downDepth\", 1), 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tif (this.isDirty(\"toggleKey\")) {\n\t\t\tconst toggleKey = this.get(\"toggleKey\");\n\n\t\t\tif (toggleKey == \"disabled\") {\n\t\t\t\tthis._clickDisposer = this.events.on(\"click\", () => {\n\t\t\t\t\tif (!this._isDragging) {\n\t\t\t\t\t\tlet series = this.series;\n\t\t\t\t\t\tif (series) {\n\t\t\t\t\t\t\tseries.selectDataItem(this.dataItem as DataItem<IHierarchyDataItem>);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (this._clickDisposer) {\n\t\t\t\t\tthis._clickDisposer.dispose();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import type { Color } from \"../../core/util/Color\";\nimport type { ColorSet } from \"../../core/util/ColorSet\";\nimport type { Bullet } from \"../../core/render/Bullet\";\nimport type { Root } from \"../../core/Root\";\nimport type { Easing } from \"../../core/util/Ease\";\n\nimport { HierarchyDefaultTheme } from \"./HierarchyDefaultTheme\";\nimport { Series, ISeriesSettings, ISeriesDataItem, ISeriesPrivate, ISeriesEvents } from \"../../core/render/Series\";\nimport { DataItem } from \"../../core/render/Component\";\nimport { HierarchyNode } from \"./HierarchyNode\";\nimport { Container } from \"../../core/render/Container\";\nimport { Label } from \"../../core/render/Label\";\nimport { Template } from \"../../core/util/Template\";\nimport { ListTemplate } from \"../../core/util/List\";\n\nimport * as $array from \"../../core/util/Array\";\nimport * as $type from \"../../core/util/Type\";\nimport * as $utils from \"../../core/util/Utils\";\nimport * as d3hierarchy from \"d3-hierarchy\";\n\n/**\n * @ignore\n */\nexport interface IHierarchyDataObject {\n\tname?: string,\n\tvalue?: number,\n\tchildren?: IHierarchyDataObject[],\n\tdataItem?: DataItem<IHierarchyDataItem>\n\tcustomValue?: boolean;\n};\n\nexport interface IHierarchyDataItem extends ISeriesDataItem {\n\n\t/**\n\t * Value of the node as set in data.\n\t */\n\tvalue: number;\n\n\t/**\n\t * @ignore\n\t */\n\tvalueWorking: number;\n\n\t/**\n\t * Percent value of the node, based on total sum of all nodes in upper level.\n\t */\n\tvaluePercentTotal: number;\n\n\t/**\n\t * Percent value of the node, based on the value of its direct parent.\n\t *\n\t * @since 5.2.21\n\t */\n\tvaluePercent: number;\n\n\t/**\n\t * Sum of child values.\n\t */\n\tsum: number;\n\n\t/**\n\t * Category.\n\t */\n\tcategory: string;\n\n\t/**\n\t * List of child node data items.\n\t */\n\tchildren: Array<DataItem<IHierarchyDataItem>>;\n\n\t/**\n\t * Raw data of the node's children.\n\t */\n\tchildData: Array<any>\n\n\t/**\n\t * Data item of parent node.\n\t */\n\tparent: DataItem<IHierarchyDataItem>;\n\n\t/**\n\t * Node's depth within the hierarchy.\n\t */\n\tdepth: number;\n\n\t/**\n\t * A reference to the related [[HierarchyNode]].\n\t */\n\tnode: HierarchyNode;\n\n\t/**\n\t * A reference to node's [[Label]].\n\t */\n\tlabel: Label;\n\n\t/**\n\t * Node's auto-assigned color.\n\t */\n\tfill: Color;\n\n\t/**\n\t * Indicates if node is currently disabled.\n\t */\n\tdisabled: boolean;\n\n\t/**\n\t * @ignore\n\t */\n\td3HierarchyNode: d3hierarchy.HierarchyNode<IHierarchyDataObject>;\n\n}\n\nexport interface IHierarchySettings extends ISeriesSettings {\n\t/**\n\t * How to sort nodes by their value.\n\t *\n\t * @default \"none\"\n\t */\n\tsort?: \"ascending\" | \"descending\" | \"none\"\n\n\n\t/**\n\t * A field in data that holds numeric value for the node.\n\t */\n\tvalueField?: string;\n\n\t/**\n\t * A field in data that holds string-based identificator for node.\n\t */\n\tcategoryField?: string;\n\n\t/**\n\t * A field in data that holds an array of child node data.\n\t */\n\tchildDataField?: string;\n\n\t/**\n\t * A field in data that holds boolean value indicating if node is\n\t * disabled (collapsed).\n\t */\n\tdisabledField?: string;\n\n\t/**\n\t * A field in data that holds color used for fills for various elements, such\n\t * as nodes.\n\t */\n\tfillField?: string;\n\n\t/**\n\t * A [[ColorSet]] to use when asigning colors for nodes.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/#Node_colors} for more info\n\t */\n\tcolors?: ColorSet;\n\n\t/**\n\t * Number of child levels to open when clicking on a node.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/#Drill_down} for more info\n\t */\n\tdownDepth?: number;\n\n\t/**\n\t * Number of levels parent levels to show from currently selected node.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/#Drill_down} for more info\n\t */\n\tupDepth?: number;\n\n\t/**\n\t * Number of levels to show on chart's first load.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/#Tree_depth} for more info\n\t */\n\tinitialDepth?: number;\n\n\t/**\n\t * If set, will show nodes starting from set level.\n\t *\n\t * It could be used to eliminate top level branches, that do not need to be\n\t * shown.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/#Tree_depth} for more info\n\t */\n\ttopDepth?: number;\n\n\t/**\n\t * If set to `true` will make all other branches collapse when some branch is\n\t * expanded.\n\t */\n\tsingleBranchOnly?: boolean;\n\n\t/**\n\t * A data item for currently selected node.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/#Pre_selected_branch} for more info\n\t */\n\tselectedDataItem?: DataItem<IHierarchyDataItem>;\n\n\t/**\n\t * Duration for all drill animations in milliseconds.\n\t */\n\tanimationDuration?: number;\n\n\t/**\n\t * An easing function to use for drill animations.\n\t */\n\tanimationEasing?: Easing;\n\n}\n\nexport interface IHierarchyPrivate extends ISeriesPrivate {\n\n\t/**\n\t * Level count in series.\n\t */\n\tmaxDepth: number;\n\n}\n\nexport interface IHierarchyEvents extends ISeriesEvents {\n\tdataitemselected: {\n\t\tdataItem?: DataItem<IHierarchyDataItem>\n\t};\n}\n\n/**\n * A base class for all hierarchy charts.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/} for more info\n */\nexport abstract class Hierarchy extends Series {\n\tpublic static className: string = \"Hierarchy\";\n\tpublic static classNames: Array<string> = Series.classNames.concat([Hierarchy.className]);\n\n\tdeclare public _settings: IHierarchySettings;\n\tdeclare public _privateSettings: IHierarchyPrivate;\n\tdeclare public _dataItemSettings: IHierarchyDataItem;\n\tdeclare public _events: IHierarchyEvents;\n\n\t/**\n\t * A [[Container]] that nodes are placed in.\n\t *\n\t * @default Container.new()\n\t */\n\tpublic readonly nodesContainer = this.children.push(Container.new(this._root, { isMeasured: false }));\n\n\tpublic _rootNode: d3hierarchy.HierarchyNode<IHierarchyDataObject> | undefined;\n\n\tpublic _treeData: IHierarchyDataObject | undefined;\n\n\tprotected _index: number = 0;\n\n\tprotected _tag: string = \"hierarchy\";\n\n\t/**\n\t * A list of nodes in a [[Hierarchy]] chart.\n\t *\n\t * @default new ListTemplate<HierarchyNode>\n\t */\n\tpublic readonly nodes: ListTemplate<HierarchyNode> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => HierarchyNode.new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.nodes.template.get(\"themeTags\", []), [this._tag, \"hierarchy\", \"node\"])\n\t\t}, this.nodes.template)\n\t);\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeNode(dataItem: DataItem<this[\"_dataItemSettings\"]>): HierarchyNode {\n\n\t\tconst childData = dataItem.get(\"childData\");\n\n\t\tconst node = this.nodes.make();\n\t\tnode.series = this;\n\t\tnode._setDataItem(dataItem);\n\t\tthis.nodes.push(node);\n\t\tdataItem.setRaw(\"node\", node);\n\n\t\tconst label = this.labels.make();\n\t\tlabel._setDataItem(dataItem);\n\t\tdataItem.setRaw(\"label\", label);\n\t\tthis.labels.push(label);\n\n\t\tif (!childData || childData.length == 0) {\n\t\t\tnode.addTag(\"last\");\n\t\t}\n\n\t\tconst depth = dataItem.get(\"depth\");\n\t\tnode.addTag(\"depth\" + depth);\n\n\t\tthis.nodesContainer.children.push(node);\n\t\tnode.children.push(label);\n\n\t\treturn node;\n\t}\n\n\t/**\n\t * A list of label elements in a [[Hierarchy]] chart.\n\t *\n\t * @default new ListTemplate<Label>\n\t */\n\tpublic readonly labels: ListTemplate<Label> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Label.new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.labels.template.get(\"themeTags\", []), [this._tag])\n\t\t}, this.labels.template)\n\t);\n\n\tpublic _currentDownDepth: number | undefined;\n\n\tprotected _afterNew() {\n\t\tthis._defaultThemes.push(HierarchyDefaultTheme.new(this._root));\n\t\tthis.fields.push(\"category\", \"childData\", \"disabled\", \"fill\");\n\t\tthis.children.push(this.bulletsContainer);\n\n\t\tsuper._afterNew();\n\t}\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tif (this._valuesDirty) {\n\t\t\tthis._treeData = {};\n\n\t\t\tconst first = this.dataItems[0];\n\t\t\tif (first) {\n\t\t\t\tthis._makeHierarchyData(this._treeData, first);\n\t\t\t\tthis._index = 0;\n\t\t\t\tthis._rootNode = (d3hierarchy.hierarchy(this._treeData) as any);\n\t\t\t\tif (this._rootNode) {\n\t\t\t\t\tthis._rootNode.sum((d) => {\n\t\t\t\t\t\treturn d.value as any;\n\t\t\t\t\t});\n\t\t\t\t\tconst sort = this.get(\"sort\")\n\t\t\t\t\tif (sort == \"descending\") {\n\t\t\t\t\t\tthis._rootNode.sort((a, b) => (b.value as any) - (a.value as any));\n\t\t\t\t\t}\n\t\t\t\t\telse if (sort == \"ascending\") {\n\t\t\t\t\t\tthis._rootNode.sort((a, b) => (a.value as any) - (b.value as any));\n\t\t\t\t\t}\n\t\t\t\t\tthis.setPrivateRaw(\"valueLow\", Infinity);\n\t\t\t\t\tthis.setPrivateRaw(\"valueHigh\", -Infinity);\n\t\t\t\t\tthis.setPrivateRaw(\"maxDepth\", 0);\n\t\t\t\t\tthis._updateValues(this._rootNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this._valuesDirty || this._sizeDirty) {\n\t\t\tthis._updateVisuals();\n\t\t}\n\n\t\tif (this._sizeDirty) {\n\t\t\tconst dataItem = this.get(\"selectedDataItem\");\n\t\t\tif (dataItem) {\n\t\t\t\tthis._zoom(dataItem);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\t\tif (this.isDirty(\"selectedDataItem\")) {\n\t\t\tthis._selectDataItem(this.get(\"selectedDataItem\"));\n\t\t}\n\t}\n\n\tprotected _updateVisuals() {\n\t\tif (this._rootNode) {\n\t\t\tthis._updateNodes(this._rootNode);\n\t\t}\n\t}\n\n\tprotected _updateNodes(hierarchyNode: d3hierarchy.HierarchyNode<IHierarchyDataObject>) {\n\t\tconst dataItem = hierarchyNode.data.dataItem;\n\n\t\tif (dataItem) {\n\t\t\tthis._updateNode(dataItem);\n\n\t\t\tif (this.bullets.length > 0 && !dataItem.bullets) {\n\t\t\t\tthis._makeBullets(dataItem);\n\t\t\t}\n\n\t\t\tconst hierarchyChildren = hierarchyNode.children;\n\t\t\tif (hierarchyChildren) {\n\t\t\t\t$array.each(hierarchyChildren, (hierarchyChild) => {\n\t\t\t\t\tthis._updateNodes(hierarchyChild)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _updateNode(_dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\n\t}\n\n\t/**\n\t * Looks up and returns a data item by its ID.\n\t *\n\t * @param   id  ID\n\t * @return      Data item\n\t */\n\tpublic getDataItemById(id: string): DataItem<this[\"_dataItemSettings\"]> | undefined {\n\t\treturn this._getDataItemById(this.dataItems, id);\n\t}\n\n\tpublic _getDataItemById(dataItems: Array<DataItem<this[\"_dataItemSettings\"]>>, id: string): DataItem<this[\"_dataItemSettings\"]> | undefined {\n\n\t\tlet di: DataItem<this[\"_dataItemSettings\"]> | undefined;\n\n\t\t$array.each(dataItems, (dataItem: any) => {\n\n\t\t\tif (dataItem.get(\"id\") == id) {\n\t\t\t\tdi = dataItem;\n\t\t\t}\n\n\t\t\tconst children = dataItem.get(\"children\");\n\t\t\tif (children) {\n\t\t\t\tlet childDataItem = this._getDataItemById(children, id);\n\t\t\t\tif (childDataItem) {\n\t\t\t\t\tdi = childDataItem\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\treturn di;\n\t}\n\n\tprotected _handleBullets(dataItems: Array<DataItem<this[\"_dataItemSettings\"]>>) {\n\t\t$array.each(dataItems, (dataItem) => {\n\t\t\tconst bullets = dataItem.bullets;\n\t\t\tif (bullets) {\n\t\t\t\t$array.each(bullets, (bullet) => {\n\t\t\t\t\tbullet.dispose();\n\t\t\t\t})\n\t\t\t\tdataItem.bullets = undefined;\n\t\t\t}\n\n\t\t\tconst children = dataItem.get(\"children\");\n\n\t\t\tif (children) {\n\t\t\t\tthis._handleBullets(children);\n\t\t\t}\n\t\t})\n\n\t\tthis._updateVisuals();\n\t}\n\n\tprotected _onDataClear() {\n\t\tsuper._onDataClear();\n\t\tconst colors = this.get(\"colors\");\n\t\tif (colors) {\n\t\t\tcolors.reset();\n\t\t}\n\t}\n\n\tprotected processDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tsuper.processDataItem(dataItem);\n\n\t\tconst childData = dataItem.get(\"childData\");\n\t\tconst colors = this.get(\"colors\");\n\t\tconst topDepth = this.get(\"topDepth\", 0);\n\n\t\tif (!dataItem.get(\"parent\")) {\n\t\t\tdataItem.setRaw(\"depth\", 0);\n\t\t\tif (colors && topDepth == 0 && dataItem.get(\"fill\") == null) {\n\t\t\t\tdataItem.setRaw(\"fill\", colors.next());\n\t\t\t}\n\t\t}\n\n\t\tlet depth = dataItem.get(\"depth\");\n\t\tconst initialDepth = this.get(\"initialDepth\", 1);\n\n\t\tthis.makeNode(dataItem);\n\t\tthis._processDataItem(dataItem);\n\n\t\tif (childData) {\n\t\t\tconst children: Array<DataItem<this[\"_dataItemSettings\"]>> = [];\n\t\t\tdataItem.setRaw(\"children\", children);\n\n\t\t\t$array.each(childData, (child) => {\n\t\t\t\tconst childDataItem = new DataItem(this, child, this._makeDataItem(child));\n\n\t\t\t\tchildren.push(childDataItem);\n\n\t\t\t\tchildDataItem.setRaw(\"parent\", dataItem);\n\t\t\t\tchildDataItem.setRaw(\"depth\", depth + 1);\n\n\t\t\t\tif (this.dataItems.length == 1 && depth == 0) {\n\t\t\t\t\tif (colors && childDataItem.get(\"fill\") == null) {\n\t\t\t\t\t\tchildDataItem.setRaw(\"fill\", colors.next());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (childDataItem.get(\"fill\") == null) {\n\t\t\t\t\t\tchildDataItem.setRaw(\"fill\", dataItem.get(\"fill\"));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.processDataItem(childDataItem);\n\t\t\t})\n\t\t}\n\n\t\tconst children = dataItem.get(\"children\");\n\t\tif (!children || children.length == 0) {\n\t\t\tconst node = dataItem.get(\"node\");\n\t\t\tnode.setAll({ toggleKey: undefined });\n\t\t}\n\n\t\tif (dataItem.get(\"disabled\") == null) {\n\t\t\tif (depth >= topDepth + initialDepth) {\n\t\t\t\tthis.disableDataItem(dataItem, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Adds children data to the target data item.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/hierarchy-api/#Dynamically_adding_child_nodes} for more info\n\t * @since 5.4.5\n\t */\n\tpublic addChildData(dataItem: DataItem<this[\"_dataItemSettings\"]>, data: Array<any>) {\n\t\tconst dataContext = dataItem.dataContext as any;\n\t\tconst childDataField = this.get(\"childDataField\");\n\n\t\tlet childData = dataContext[childDataField] as any;\n\t\tif (!childData) {\n\t\t\tchildData = data;\n\t\t\tdataContext[childDataField] = childData;\n\t\t}\n\t\telse {\n\t\t\tchildData.push(...data);\n\t\t}\n\n\t\tlet children = dataItem.get(\"children\");\n\t\tif (!children) {\n\t\t\tchildren = [];\n\t\t\tdataItem.set(\"children\", children);\n\t\t}\n\n\t\tlet depth = dataItem.get(\"depth\");\n\n\t\t$array.each(childData, (child) => {\n\t\t\tconst childDataItem = new DataItem(this, child, this._makeDataItem(child));\n\n\t\t\tchildren.push(childDataItem);\n\n\t\t\tchildDataItem.setRaw(\"parent\", dataItem);\n\t\t\tchildDataItem.setRaw(\"depth\", depth + 1);\n\n\t\t\tif (childDataItem.get(\"fill\") == null) {\n\t\t\t\tchildDataItem.setRaw(\"fill\", dataItem.get(\"fill\"));\n\t\t\t}\n\n\t\t\tthis.processDataItem(childDataItem);\n\t\t})\n\t}\n\n\tprotected _processDataItem(_dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\n\t}\n\n\tprotected _updateValues(d3HierarchyNode: d3hierarchy.HierarchyNode<IHierarchyDataObject>) {\n\t\tconst dataItem = d3HierarchyNode.data.dataItem;\n\n\t\tif (d3HierarchyNode.depth > this.getPrivate(\"maxDepth\")) {\n\t\t\tthis.setPrivateRaw(\"maxDepth\", d3HierarchyNode.depth);\n\t\t}\n\n\t\tif (dataItem) {\n\t\t\tdataItem.setRaw(\"d3HierarchyNode\", d3HierarchyNode);\n\n\t\t\t(d3HierarchyNode as any).index = this._index;\n\n\t\t\tthis._index++;\n\n\t\t\tdataItem.get(\"node\").set(\"disabled\", dataItem.get(\"disabled\"));\n\n\t\t\tlet dataValue = d3HierarchyNode.data.value;\n\t\t\tlet value = d3HierarchyNode.value\n\n\t\t\tif (dataValue != null) {\n\t\t\t\tvalue = dataValue;\n\t\t\t\t(d3HierarchyNode as any)[\"value\"] = value;\n\t\t\t}\n\n\t\t\tif ($type.isNumber(value)) {\n\t\t\t\tdataItem.setRaw(\"sum\", value);\n\t\t\t\tdataItem.setRaw(\"valuePercentTotal\", value / this.dataItems[0].get(\"sum\") * 100);\n\n\t\t\t\tlet valuePercent = 100;\n\t\t\t\tconst parent = dataItem.get(\"parent\");\n\t\t\t\tif (parent) {\n\t\t\t\t\tvaluePercent = value / parent.get(\"sum\") * 100;\n\t\t\t\t}\n\t\t\t\tdataItem.get(\"label\").text.markDirtyText();\n\t\t\t\tdataItem.setRaw(\"valuePercent\", valuePercent);\n\n\t\t\t\tif (this.getPrivate(\"valueLow\") > value) {\n\t\t\t\t\tthis.setPrivateRaw(\"valueLow\", value);\n\t\t\t\t}\n\n\t\t\t\tif (this.getPrivate(\"valueHigh\") < value) {\n\t\t\t\t\tthis.setPrivateRaw(\"valueHigh\", value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.updateLegendValue(dataItem);\n\t\t}\n\n\t\tconst hierarchyChildren = d3HierarchyNode.children;\n\t\tif (hierarchyChildren) {\n\t\t\t$array.each(hierarchyChildren, (d3HierarchyChild) => {\n\t\t\t\tthis._updateValues(d3HierarchyChild);\n\t\t\t})\n\t\t}\n\t}\n\n\tprotected _makeHierarchyData(data: IHierarchyDataObject, dataItem: DataItem<IHierarchyDataItem>) {\n\t\tdata.dataItem = dataItem;\n\n\t\tconst children = dataItem.get(\"children\");\n\t\tif (children) {\n\t\t\tconst childrenDataArray: Array<IHierarchyDataObject> = [];\n\t\t\tdata.children = childrenDataArray;\n\t\t\t$array.each(children, (childDataItem) => {\n\t\t\t\tconst childData = {};\n\t\t\t\tchildrenDataArray.push(childData);\n\t\t\t\tthis._makeHierarchyData(childData, childDataItem);\n\t\t\t})\n\n\t\t\tconst value = dataItem.get(\"valueWorking\");\n\t\t\tif ($type.isNumber(value)) {\n\t\t\t\tdata.value = value;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tconst value = dataItem.get(\"valueWorking\");\n\t\t\tif ($type.isNumber(value)) {\n\t\t\t\tdata.value = value;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic disposeDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tsuper.disposeDataItem(dataItem);\n\t\tconst node = dataItem.get(\"node\");\n\t\tif (node) {\n\t\t\tthis.nodes.removeValue(node);\n\t\t\tnode.dispose();\n\t\t}\n\t\tconst label = dataItem.get(\"label\");\n\t\tif (label) {\n\t\t\tthis.labels.removeValue(label);\n\t\t\tlabel.dispose();\n\t\t}\n\n\t\tconst children = dataItem.get(\"children\");\n\t\tif (children) {\n\t\t\t$array.each(children, (child) => {\n\t\t\t\tthis.disposeDataItem(child);\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * Hides hierarchy's data item.\n\t *\n\t * @param   dataItem  Data item\n\t * @param   duration  Animation duration in milliseconds\n\t * @return            Promise\n\t */\n\tpublic async hideDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, duration?: number): Promise<void> {\n\t\tconst promises = [super.hideDataItem(dataItem, duration)];\n\n\t\tconst hiddenState = this.states.create(\"hidden\", {})\n\n\t\tif (!$type.isNumber(duration)) {\n\t\t\tconst stateAnimationDuration = \"stateAnimationDuration\"\n\t\t\tduration = hiddenState.get(stateAnimationDuration, this.get(stateAnimationDuration, 0));\n\t\t}\n\n\t\tconst stateAnimationEasing = \"stateAnimationEasing\";\n\t\tconst easing = hiddenState.get(stateAnimationEasing, this.get(stateAnimationEasing));\n\n\t\tconst children = dataItem.get(\"children\");\n\n\t\tif ((!children || children.length == 0) && $type.isNumber(dataItem.get(\"value\"))) {\n\t\t\tpromises.push(dataItem.animate({ key: \"valueWorking\" as any, to: 0, duration: duration, easing: easing }).waitForStop());\n\t\t}\n\n\t\tconst node = dataItem.get(\"node\");\n\t\tnode.hide();\n\t\tnode.hideTooltip();\n\n\t\tif (children) {\n\t\t\t$array.each(children, (childDataItem) => {\n\t\t\t\tpromises.push(this.hideDataItem(childDataItem));\n\t\t\t})\n\t\t}\n\n\t\tawait Promise.all(promises);\n\t}\n\n\t/**\n\t * Shows hierarchy's data item.\n\t *\n\t * @param   dataItem  Data item\n\t * @param   duration  Animation duration in milliseconds\n\t * @return            Promise\n\t */\n\tpublic async showDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, duration?: number): Promise<void> {\n\t\tconst promises = [super.showDataItem(dataItem, duration)];\n\n\t\tif (!$type.isNumber(duration)) {\n\t\t\tduration = this.get(\"stateAnimationDuration\", 0);\n\t\t}\n\n\t\tconst easing = this.get(\"stateAnimationEasing\");\n\n\t\tconst children = dataItem.get(\"children\");\n\n\t\tif ((!children || children.length == 0) && $type.isNumber(dataItem.get(\"value\"))) {\n\t\t\tpromises.push(dataItem.animate({ key: \"valueWorking\" as any, to: dataItem.get(\"value\"), duration: duration, easing: easing }).waitForStop());\n\t\t}\n\n\t\tconst node = dataItem.get(\"node\");\n\t\tnode.show();\n\n\t\tif (children) {\n\t\t\t$array.each(children, (childDataItem) => {\n\t\t\t\tpromises.push(this.showDataItem(childDataItem));\n\t\t\t})\n\t\t}\n\n\t\tawait Promise.all(promises);\n\t}\n\n\t/**\n\t * Enables a disabled data item.\n\t *\n\t * @param  dataItem  Target data item\n\t * @param  duration  Animation duration in milliseconds\n\t */\n\tpublic enableDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, maxDepth?: number, depth?: number, duration?: number) {\n\t\tif (depth == null) {\n\t\t\tdepth = 0;\n\t\t}\n\n\t\tif (maxDepth == null) {\n\t\t\tmaxDepth = 1;\n\t\t}\n\n\t\tdataItem.set(\"disabled\", false);\n\t\tdataItem.get(\"node\").set(\"disabled\", false);\n\n\t\tif (!dataItem.isHidden()) {\n\t\t\tdataItem.get(\"node\").show(duration);\n\t\t}\n\n\t\tconst topDepth = this.get(\"topDepth\", 0);\n\t\tif (dataItem.get(\"depth\") < topDepth) {\n\t\t\tdataItem.get(\"node\").hide(0);\n\t\t}\n\n\t\tif (depth == 0) {\n\t\t\tconst upDepth = this.get(\"upDepth\", Infinity);\n\t\t\tlet parent = dataItem;\n\t\t\tlet count = 0;\n\n\t\t\twhile (parent !== undefined) {\n\t\t\t\tif (count > upDepth) {\n\t\t\t\t\tparent.get(\"node\").hide();\n\t\t\t\t}\n\t\t\t\tparent = parent.get(\"parent\");\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\n\t\tlet children = dataItem.get(\"children\");\n\t\tif (children) {\n\t\t\tif (depth < maxDepth - 1) {\n\t\t\t\t$array.each(children, (child) => {\n\t\t\t\t\tconst disabledField = this.get(\"disabledField\");\n\t\t\t\t\tif (disabledField) {\n\t\t\t\t\t\tconst dataContext = child.dataContext as any;\n\t\t\t\t\t\tif (dataContext[disabledField] != true) {\n\t\t\t\t\t\t\tthis.enableDataItem(child, maxDepth, depth as number + 1, duration);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.disableDataItem(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.enableDataItem(child, maxDepth, depth as number + 1, duration);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$array.each(children, (child) => {\n\t\t\t\t\tif (!child.isHidden()) {\n\t\t\t\t\t\tchild.get(\"node\").show(duration);\n\t\t\t\t\t\tchild.get(\"node\").states.applyAnimate(\"disabled\");\n\t\t\t\t\t\tchild.set(\"disabled\", true);\n\n\t\t\t\t\t\tthis.disableDataItem(child);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Disables a data item.\n\t *\n\t * @param  dataItem  Target data item\n\t * @param  duration  Animation duration in milliseconds\n\t */\n\tpublic disableDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, duration?: number) {\n\t\tdataItem.set(\"disabled\", true);\n\t\tlet children = dataItem.get(\"children\");\n\t\tif (children) {\n\t\t\t$array.each(children, (child) => {\n\t\t\t\tthis.disableDataItem(child, duration);\n\t\t\t\tchild.get(\"node\").hide(duration);\n\t\t\t})\n\t\t}\n\t}\n\n\tprotected _selectDataItem(dataItem?: DataItem<this[\"_dataItemSettings\"]>, downDepth?: number, skipDisptach?: boolean) {\n\t\tif (dataItem) {\n\t\t\tif (!skipDisptach) {\n\t\t\t\tconst type = \"dataitemselected\";\n\t\t\t\tthis.events.dispatch(type, { type: type, target: this, dataItem: dataItem });\n\t\t\t}\n\n\t\t\tlet maxDepth = this.getPrivate(\"maxDepth\", 1);\n\t\t\tconst topDepth = this.get(\"topDepth\", 0);\n\n\t\t\tif (downDepth == null) {\n\t\t\t\tdownDepth = Math.min(this.get(\"downDepth\", 1), maxDepth - dataItem.get(\"depth\"));\n\t\t\t}\n\n\t\t\tif (!this.inited) {\n\t\t\t\tdownDepth = Math.min(this.get(\"initialDepth\", 1), maxDepth - topDepth);\n\t\t\t}\n\n\t\t\tthis._currentDownDepth = downDepth;\n\n\t\t\tconst hierarchyNode = dataItem.get(\"d3HierarchyNode\");\n\t\t\tlet currentDepth = hierarchyNode.depth;\n\n\t\t\tif (currentDepth + downDepth > maxDepth) {\n\t\t\t\tdownDepth = maxDepth - currentDepth;\n\t\t\t}\n\n\t\t\tif (currentDepth < topDepth) {\n\t\t\t\tdownDepth += topDepth - currentDepth;\n\t\t\t\tcurrentDepth = topDepth;\n\t\t\t}\n\n\t\t\tconst children = dataItem.get(\"children\");\n\n\t\t\tif (children && children.length > 0) {\n\t\t\t\tif (downDepth > 0) {\n\t\t\t\t\tthis.enableDataItem(dataItem, downDepth);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdataItem.get(\"node\").show();\n\t\t\t\t\t$array.each(children, (child) => {\n\t\t\t\t\t\tchild.get(\"node\").hide();\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tif (hierarchyNode.depth < topDepth) {\n\t\t\t\t\tdataItem.get(\"node\").hide(0);\n\t\t\t\t}\n\n\t\t\t\tif (this.get(\"singleBranchOnly\")) {\n\t\t\t\t\tthis._handleSingle(dataItem);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.enableDataItem(this.dataItems[0], downDepth, 0);\n\t\t\t}\n\n\t\t\tthis._zoom(dataItem);\n\t\t}\n\n\t}\n\n\tprotected _zoom(_dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t}\n\n\tprotected _handleSingle(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tconst parent = dataItem.get(\"parent\");\n\t\tif (parent) {\n\t\t\tconst children = parent.get(\"children\");\n\t\t\tif (children) {\n\t\t\t\t$array.each(children, (child) => {\n\t\t\t\t\tif (child != dataItem) {\n\t\t\t\t\t\tthis.disableDataItem(child);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Selects specific data item.\n\t *\n\t * @param  dataItem  Target data item\n\t */\n\tpublic selectDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tconst parent = dataItem.get(\"parent\");\n\t\tconst maxDepth = this.getPrivate(\"maxDepth\", 1);\n\n\t\tif (this.get(\"selectedDataItem\") == dataItem) {\n\t\t\tif (parent) {\n\t\t\t\tthis.set(\"selectedDataItem\", parent);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet depth = Math.min(this.get(\"downDepth\", 1), maxDepth - dataItem.get(\"depth\"));\n\n\t\t\t\tif (this._currentDownDepth == depth) {\n\t\t\t\t\tdepth = Math.min(this.get(\"initialDepth\", 1), maxDepth - this.get(\"topDepth\", 0));\n\t\t\t\t}\n\n\t\t\t\tthis._selectDataItem(dataItem, depth);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.set(\"selectedDataItem\", dataItem);\n\t\t}\n\t}\n\n\n\tprotected _makeBullet(dataItem: DataItem<this[\"_dataItemSettings\"]>, bulletFunction: (root: Root, series: Series, dataItem: DataItem<this[\"_dataItemSettings\"]>) => Bullet | undefined, index?: number) {\n\t\tconst bullet = super._makeBullet(dataItem, bulletFunction, index);\n\t\tif (bullet) {\n\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\tconst node = dataItem.get(\"node\");\n\n\t\t\tif (sprite) {\n\t\t\t\tnode.children.push(sprite);\n\t\t\t\tnode.on(\"width\", () => {\n\t\t\t\t\tthis._positionBullet(bullet);\n\t\t\t\t})\n\t\t\t\tnode.on(\"height\", () => {\n\t\t\t\t\tthis._positionBullet(bullet);\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\treturn bullet;\n\t}\n\n\tpublic _positionBullet(bullet: Bullet) {\n\n\t\tconst sprite = bullet.get(\"sprite\");\n\t\tif (sprite) {\n\t\t\tconst dataItem = sprite.dataItem as DataItem<this[\"_dataItemSettings\"]>;\n\n\t\t\tconst locationX = bullet.get(\"locationX\", 0.5);\n\t\t\tconst locationY = bullet.get(\"locationY\", 0.5);\n\n\t\t\tconst node = dataItem.get(\"node\");\n\n\t\t\tsprite.set(\"x\", node.width() * locationX);\n\t\t\tsprite.set(\"y\", node.height() * locationY);\n\t\t}\n\t}\n\n\t/**\n\t * Triggers hover on a series data item.\n\t *\n\t * @since 5.0.7\n\t * @param  dataItem  Target data item\n\t */\n\tpublic hoverDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tconst node = dataItem.get(\"node\");\n\t\tif (node && !node.isHidden()) {\n\t\t\tnode.hover();\n\t\t}\n\t}\n\n\t/**\n\t * Triggers un-hover on a series data item.\n\t *\n\t * @since 5.0.7\n\t * @param  dataItem  Target data item\n\t */\n\tpublic unhoverDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tconst node = dataItem.get(\"node\");\n\t\tif (node) {\n\t\t\tnode.unhover();\n\t\t}\n\t}\n}\n","import type { DataItem } from \"../../core/render/Component\";\nimport type { LinkedHierarchy, ILinkedHierarchyDataItem } from \"./LinkedHierarchy\";\n\nimport { HierarchyNode, IHierarchyNodePrivate, IHierarchyNodeSettings } from \"./HierarchyNode\";\n\nimport * as $array from \"../../core/util/Array\";\n\nexport interface ILinkedHierarchyNodeSettings extends IHierarchyNodeSettings {\n}\n\nexport interface ILinkedHierarchyNodePrivate extends IHierarchyNodePrivate {\n}\n\n/**\n * A node class for [[LinkedHierarchy]].\n */\nexport class LinkedHierarchyNode extends HierarchyNode {\n\n\t/**\n\t * A series node belongs to.\n\t */\n\tdeclare public series: LinkedHierarchy | undefined;\n\n\tdeclare public _settings: ILinkedHierarchyNodeSettings;\n\tdeclare public _privateSettings: ILinkedHierarchyNodePrivate;\n\n\tpublic static className: string = \"LinkedHierarchyNode\";\n\tpublic static classNames: Array<string> = HierarchyNode.classNames.concat([LinkedHierarchyNode.className]);\n\n\tdeclare protected _dataItem: DataItem<ILinkedHierarchyDataItem> | undefined;\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\n\t\tthis.states.create(\"disabled\", {});\n\t\tthis.states.create(\"hover\", {});\n\t\tthis.states.create(\"hoverDisabled\", {});\n\t}\n\n\n\tpublic _updateLinks(duration?: number) {\n\t\tconst dataItem = this.dataItem;\n\t\tif (dataItem) {\n\t\t\tlet links = (dataItem as DataItem<ILinkedHierarchyDataItem>).get(\"links\");\n\n\t\t\t$array.each(links, (link) => {\n\t\t\t\tlet source = link.get(\"source\")\n\t\t\t\tlet target = link.get(\"target\")\n\n\t\t\t\tif (source && target) {\n\t\t\t\t\tif (source.get(\"node\").isHidden() || target.get(\"node\").isHidden()) {\n\t\t\t\t\t\tlink.hide(duration);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlink.show(duration);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tif (this.isDirty(\"disabled\")) {\n\t\t\tthis._updateLinks();\n\t\t}\n\t}\n\n\tprotected _onHide(duration?: number) {\n\t\tsuper._onHide(duration);\n\t\tthis._updateLinks(duration);\n\t}\n\n\tprotected _onShow(duration?: number) {\n\t\tsuper._onShow(duration);\n\t\tthis._updateLinks(duration);\n\t}\n}\n","import type { IHierarchyDataItem } from \"./Hierarchy\";\nimport type { DataItem } from \"../../core/render/Component\";\n\nimport { Graphics, IGraphicsSettings, IGraphicsPrivate } from \"../../core/render/Graphics\";\n\nexport interface IHierarchyLinkSettings extends IGraphicsSettings {\n\n\t/**\n\t * Source node data item.\n\t */\n\tsource?: DataItem<IHierarchyDataItem>;\n\n\t/**\n\t * Target node data item.\n\t */\n\ttarget?: DataItem<IHierarchyDataItem>;\n\n\t/**\n\t * Strength of the link.\n\t */\n\tstrength?: number;\n\n\t/**\n\t * Distance in pixels.\n\t */\n\tdistance?: number;\n\n}\n\nexport interface IHierarchyLinkPrivate extends IGraphicsPrivate {\n\td3Link:any;\n}\n\n/**\n * Draws a link between nodes in a hierarchy series.\n */\nexport class HierarchyLink extends Graphics {\n\tdeclare public _settings: IHierarchyLinkSettings;\n\tdeclare public _privateSettings: IHierarchyLinkPrivate;\n\n\tpublic static className: string = \"HierarchyLink\";\n\tpublic static classNames: Array<string> = Graphics.classNames.concat([HierarchyLink.className]);\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\t\tif (this._clear) {\n\t\t\tlet source = this.get(\"source\");\n\t\t\tlet target = this.get(\"target\");\n\t\t\tif (source && target) {\n\t\t\t\tconst sourceNode = source.get(\"node\");\n\t\t\t\tconst targetNode = target.get(\"node\");\n\t\t\t\tthis._display.moveTo(sourceNode.x(), sourceNode.y());\n\t\t\t\tthis._display.lineTo(targetNode.x(), targetNode.y());\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isDirty(\"source\")) {\n\t\t\tconst source = this.get(\"source\");\n\t\t\tif (source) {\n\t\t\t\tconst sourceNode = source.get(\"node\");\n\t\t\t\tsourceNode.events.on(\"positionchanged\", () => {\n\t\t\t\t\tthis._markDirtyKey(\"stroke\");\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\tif (this.isDirty(\"target\")) {\n\t\t\tconst target = this.get(\"target\");\n\t\t\tif (target) {\n\t\t\t\tconst targetNode = target.get(\"node\");\n\t\t\t\ttargetNode.events.on(\"positionchanged\", () => {\n\t\t\t\t\tthis._markDirtyKey(\"stroke\");\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n","import type { DataItem } from \"../../core/render/Component\";\nimport type * as d3hierarchy from \"d3-hierarchy\";\n\nimport { Hierarchy, IHierarchySettings, IHierarchyDataItem, IHierarchyPrivate, IHierarchyEvents } from \"./Hierarchy\";\nimport { Container } from \"../../core/render/Container\";\nimport { LinkedHierarchyNode } from \"./LinkedHierarchyNode\";\nimport { HierarchyLink } from \"./HierarchyLink\";\nimport { Template } from \"../../core/util/Template\";\nimport { Circle } from \"../../core/render/Circle\";\nimport { ListTemplate } from \"../../core/util/List\";\nimport type { IPoint } from \"../../core/util/IPoint\";\n\nimport * as $array from \"../../core/util/Array\";\nimport * as $utils from \"../../core/util/Utils\";\n\n/**\n * @ignore\n */\nexport interface ILinkedHierarchyDataObject {\n\tname?: string,\n\tvalue?: number,\n\tchildren?: ILinkedHierarchyDataObject[],\n\tdataItem?: DataItem<ILinkedHierarchyDataItem>\n};\n\nexport interface ILinkedHierarchyDataItem extends IHierarchyDataItem {\n\n\t/**\n\t * An array of child data items.\n\t */\n\tchildren: Array<DataItem<ILinkedHierarchyDataItem>>;\n\n\t/**\n\t * A data item of a parent node.\n\t */\n\tparent: DataItem<ILinkedHierarchyDataItem>;\n\n\t/**\n\t * A related node.\n\t */\n\tnode: LinkedHierarchyNode;\n\n\t/**\n\t * [[Circle]] element of the related node.\n\t */\n\tcircle: Circle;\n\n\t/**\n\t * [[Circle]] element of the related node, representing outer circle.\n\t */\n\touterCircle: Circle;\n\n\t/**\n\t * A [[HierarchyLink]] leading to parent node.\n\t */\n\tparentLink: HierarchyLink;\n\n\t/**\n\t * An [[HierarchyLink]] leading to parent node.\n\t */\n\tlinks: Array<HierarchyLink>;\n\n\t/**\n\t * An array of [[HierarchyLink]] objects leading to child nodes.\n\t */\n\tchildLinks: Array<HierarchyLink>;\n\n\t/**\n\t * An array of IDs of directly linked nodes.\n\t */\n\tlinkWith: Array<string>;\n\n\t/**\n\t * @ignore\n\t */\n\td3HierarchyNode: d3hierarchy.HierarchyPointNode<ILinkedHierarchyDataObject>;\n\n}\n\nexport interface ILinkedHierarchySettings extends IHierarchySettings {\n\n\t/**\n\t * A field in data which holds IDs of nodes to link with.\n\t */\n\tlinkWithField?: string;\n\n}\n\nexport interface ILinkedHierarchyPrivate extends IHierarchyPrivate {\n}\n\nexport interface ILinkedHierarchyEvents extends IHierarchyEvents {\n}\n\n/**\n * A base class for linked hierarchy series.\n */\nexport abstract class LinkedHierarchy extends Hierarchy {\n\n\tpublic static className: string = \"LinkedHierarchy\";\n\tpublic static classNames: Array<string> = Hierarchy.classNames.concat([LinkedHierarchy.className]);\n\n\tdeclare public _settings: ILinkedHierarchySettings;\n\tdeclare public _privateSettings: ILinkedHierarchyPrivate;\n\tdeclare public _dataItemSettings: ILinkedHierarchyDataItem;\n\tdeclare public _events: ILinkedHierarchyEvents;\n\n\tprotected _afterNew() {\n\t\tthis.fields.push(\"linkWith\", \"x\", \"y\");\n\n\t\tsuper._afterNew();\n\t}\n\n\t/**\n\t * A list of nodes in a [[LinkedHierarchy]] chart.\n\t *\n\t * @default new ListTemplate<LinkedHierarchyNode>\n\t */\n\tpublic readonly nodes: ListTemplate<LinkedHierarchyNode> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => LinkedHierarchyNode._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.nodes.template.get(\"themeTags\", []), [this._tag, \"linkedhierarchy\", \"hierarchy\", \"node\"]),\n\t\t\tx: this.width() / 2,\n\t\t\ty: this.height() / 2\n\t\t}, [this.nodes.template])\n\t);\n\n\t/**\n\t * A list of node circle elements in a [[LinkedHierarchy]] chart.\n\t *\n\t * @default new ListTemplate<Circle>\n\t */\n\tpublic readonly circles: ListTemplate<Circle> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Circle._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.circles.template.get(\"themeTags\", []), [this._tag, \"shape\"])\n\t\t}, [this.circles.template])\n\t);\n\n\t/**\n\t * A list of node outer circle elements in a [[LinkedHierarchy]] chart.\n\t *\n\t * @default new ListTemplate<Circle>\n\t */\n\tpublic readonly outerCircles: ListTemplate<Circle> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Circle._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.outerCircles.template.get(\"themeTags\", []), [this._tag, \"outer\", \"shape\"])\n\t\t}, [this.outerCircles.template])\n\t);\n\n\t/**\n\t * A list of link elements in a [[LinkedHierarchy]] chart.\n\t *\n\t * @default new ListTemplate<HierarchyLink>\n\t */\n\tpublic readonly links: ListTemplate<HierarchyLink> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => HierarchyLink._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.links.template.get(\"themeTags\", []), [this._tag, \"linkedhierarchy\", \"hierarchy\", \"link\"])\n\t\t}, [this.links.template])\n\t);\n\n\t/**\n\t * A [[Container]] that link elements are placed in.\n\t *\n\t * @default Container.new()\n\t */\n\tpublic readonly linksContainer = this.children.moveValue(Container.new(this._root, {}), 0);\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeNode(dataItem: DataItem<this[\"_dataItemSettings\"]>): LinkedHierarchyNode {\n\t\tconst node = super.makeNode(dataItem) as LinkedHierarchyNode;\n\n\t\tconst circle = node.children.moveValue(this.circles.make(), 0);\n\t\tthis.circles.push(circle);\n\t\tnode.setPrivate(\"tooltipTarget\", circle);\n\t\tdataItem.setRaw(\"circle\", circle);\n\n\t\tconst outerCircle = node.children.moveValue(this.outerCircles.make(), 0);\n\t\tthis.outerCircles.push(outerCircle);\n\t\tdataItem.setRaw(\"outerCircle\", outerCircle);\n\n\t\tconst label = dataItem.get(\"label\");\n\n\t\tcircle.on(\"radius\", () => {\n\t\t\tconst d = circle.get(\"radius\", this.width()) * 2;\n\t\t\tlabel.setAll({ maxWidth: d, maxHeight: d })\n\t\t\touterCircle.set(\"radius\", d / 2);\n\n\t\t\tthis._handleRadiusChange();\n\t\t})\n\n\t\tconst d = circle.get(\"radius\", this.width()) * 2;\n\t\tlabel.setAll({ maxWidth: d, maxHeight: d });\n\t\t\n\t\tcircle._setDataItem(dataItem);\n\t\touterCircle._setDataItem(dataItem);\n\n\t\treturn node;\n\t}\n\n\tpublic _handleRadiusChange() {\n\n\t}\n\n\tprotected processDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tdataItem.setRaw(\"childLinks\", []);\n\t\tdataItem.setRaw(\"links\", []);\n\t\tsuper.processDataItem(dataItem);\n\t}\n\n\tprotected _processDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tsuper._processDataItem(dataItem);\n\n\t\tconst parentDataItem = dataItem.get(\"parent\");\n\t\tif (parentDataItem && parentDataItem.get(\"depth\") >= this.get(\"topDepth\")) {\n\t\t\tconst link = this.linkDataItems(parentDataItem, dataItem);\n\t\t\tdataItem.setRaw(\"parentLink\", link);\n\t\t}\n\n\t\tconst node = dataItem.get(\"node\");\n\t\tthis.updateLinkWith(this.dataItems);\n\t\tnode._updateLinks(0);\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateLinkWith(dataItems: Array<DataItem<this[\"_dataItemSettings\"]>>) {\n\t\t$array.each(dataItems, (dataItem) => {\n\t\t\tconst linkWith = dataItem.get(\"linkWith\");\n\t\t\tif (linkWith) {\n\t\t\t\t$array.each(linkWith, (id) => {\n\t\t\t\t\tconst linkWithDataItem = this._getDataItemById(this.dataItems, id);\n\n\t\t\t\t\tif (linkWithDataItem) {\n\t\t\t\t\t\tthis.linkDataItems(dataItem, linkWithDataItem);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst children = dataItem.get(\"children\");\n\t\t\tif (children) {\n\t\t\t\tthis.updateLinkWith(children);\n\t\t\t}\n\t\t})\n\t}\n\n\tprotected _getPoint(hierarchyNode: this[\"_dataItemSettings\"][\"d3HierarchyNode\"]): IPoint {\n\t\treturn { x: hierarchyNode.x, y: hierarchyNode.y };\n\t}\n\n\tprotected _animatePositions(dataItem: DataItem<this[\"_dataItemSettings\"]>){\n\t\tconst node = dataItem.get(\"node\");\n\t\tconst hierarchyNode = dataItem.get(\"d3HierarchyNode\");\n\n\t\tconst point = this._getPoint(hierarchyNode);\n\n\t\tconst duration = this.get(\"animationDuration\", 0);\n\t\tconst easing = this.get(\"animationEasing\");\n\n\t\tnode.animate({ key: \"x\", to: point.x, duration: duration, easing: easing });\n\t\tnode.animate({ key: \"y\", to: point.y, duration: duration, easing: easing });\t\t\n\t}\n\n\tprotected _updateNode(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tsuper._updateNode(dataItem);\n\n\t\tthis._animatePositions(dataItem);\n\n\t\tconst hierarchyNode = dataItem.get(\"d3HierarchyNode\");\n\n\t\tconst hierarchyChildren = hierarchyNode.children;\n\t\tif (hierarchyChildren) {\n\t\t\t$array.each(hierarchyChildren, (hierarchyChild) => {\n\t\t\t\tthis._updateNodes(hierarchyChild)\n\t\t\t})\n\t\t}\n\n\t\tconst fill = dataItem.get(\"fill\");\n\t\tconst circle = dataItem.get(\"circle\");\n\t\tconst children = dataItem.get(\"children\");\n\t\t\n\t\tif (circle) {\n\t\t\tcircle._setDefault(\"fill\", fill);\n\t\t\tcircle._setDefault(\"stroke\", fill);\n\t\t}\n\n\t\tconst outerCircle = dataItem.get(\"outerCircle\");\n\t\tif (outerCircle) {\n\t\t\touterCircle._setDefault(\"fill\", fill);\n\t\t\touterCircle._setDefault(\"stroke\", fill);\n\n\t\t\tif (!children || children.length == 0) {\n\t\t\t\touterCircle.setPrivate(\"visible\", false);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Link two data items with a link element.\n\t *\n\t * @param   source    Source node data item\n\t * @param   target    Target node data item\n\t * @param   strength  Link strength\n\t * @return            Link element\n\t */\n\tpublic linkDataItems(source: DataItem<this[\"_dataItemSettings\"]>, target: DataItem<this[\"_dataItemSettings\"]>, strength?: number): HierarchyLink {\n\n\t\tlet link!: HierarchyLink;\n\n\t\tconst sourceLinks = source.get(\"links\");\n\n\t\tif (sourceLinks) {\n\t\t\t$array.each(sourceLinks, (lnk) => {\n\t\t\t\tif (lnk.get(\"target\") == target) {\n\t\t\t\t\tlink = lnk;\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tconst targetLinks = target.get(\"links\");\n\n\t\tif (targetLinks) {\n\t\t\t$array.each(targetLinks, (lnk) => {\n\t\t\t\tif (lnk.get(\"target\") == source) {\n\t\t\t\t\tlink = lnk;\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tif (!link) {\n\t\t\tlink = this.links.make();\n\t\t\tthis.links.push(link);\n\t\t\tthis.linksContainer.children.push(link);\n\t\t\tlink.set(\"source\", source);\n\t\t\tlink.set(\"target\", target);\n\t\t\tlink._setDataItem(source);\n\t\t\tlink.set(\"stroke\", source.get(\"fill\"));\n\t\t\tif (strength != null) {\n\t\t\t\tlink.set(\"strength\", strength)\n\t\t\t}\n\n\t\t\tsource.get(\"childLinks\").push(link);\n\n\t\t\t$array.move(source.get(\"links\"), link);\n\t\t\t$array.move(target.get(\"links\"), link);\n\n\t\t\tthis._processLink(link, source, target);\n\t\t}\n\n\t\treturn link;\n\t}\n\n\n\t/**\n\t * Unlink two linked data items.\n\t *\n\t * @param   source  Source node data item\n\t * @param   target  Target node data item\n\t */\n\tpublic unlinkDataItems(source: DataItem<this[\"_dataItemSettings\"]>, target: DataItem<this[\"_dataItemSettings\"]>) {\n\n\t\tlet link!: HierarchyLink;\n\n\t\tconst sourceLinks = source.get(\"links\");\n\n\t\tif (sourceLinks) {\n\t\t\t$array.each(sourceLinks, (lnk) => {\n\t\t\t\tif (lnk && lnk.get(\"target\") == target) {\n\t\t\t\t\tlink = lnk;\n\t\t\t\t\t$array.remove(sourceLinks, link);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tconst targetLinks = target.get(\"links\");\n\n\t\tif (targetLinks) {\n\t\t\t$array.each(targetLinks, (lnk) => {\n\t\t\t\tif (lnk && lnk.get(\"target\") == source) {\n\t\t\t\t\tlink = lnk;\n\t\t\t\t\t$array.remove(targetLinks, link);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tif (link) {\n\t\t\tthis._disposeLink(link);\n\t\t}\n\n\t\tthis._handleUnlink();\n\t}\n\n\tprotected _handleUnlink() {\n\n\t}\n\n\tprotected _disposeLink(link: HierarchyLink) {\n\t\tthis.links.removeValue(link);\n\t\tlink.dispose();\n\t}\n\n\t/**\n\t * Returns `true` if two nodes are linked with each other.\n\t */\n\tpublic areLinked(source: DataItem<this[\"_dataItemSettings\"]>, target: DataItem<this[\"_dataItemSettings\"]>): boolean {\n\t\tconst sourceLinks = source.get(\"links\");\n\t\tlet linked = false;\n\t\tif (sourceLinks) {\n\t\t\t$array.each(sourceLinks, (lnk) => {\n\t\t\t\tif (lnk.get(\"target\") == target) {\n\t\t\t\t\tlinked = true;\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tconst targetLinks = target.get(\"links\");\n\n\t\tif (targetLinks) {\n\t\t\t$array.each(targetLinks, (lnk) => {\n\t\t\t\tif (lnk.get(\"target\") == source) {\n\t\t\t\t\tlinked = true;\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\treturn linked;\n\t}\n\n\tprotected _processLink(_link: HierarchyLink, _source: DataItem<this[\"_dataItemSettings\"]>, _target: DataItem<this[\"_dataItemSettings\"]>) {\n\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic disposeDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tsuper.disposeDataItem(dataItem);\n\t\tconst links = dataItem.get(\"links\");\n\t\tif (links) {\n\t\t\t$array.each(links, (link) => {\n\t\t\t\tthis._disposeLink(link)\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * Select a data item.\n\t * @param  dataItem  Data item\n\t */\n\tpublic selectDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tconst parent = dataItem.get(\"parent\");\n\n\t\tif (!dataItem.get(\"disabled\")) {\n\t\t\tthis.set(\"selectedDataItem\", dataItem);\n\t\t}\n\t\telse {\n\t\t\tif (parent) {\n\t\t\t\tthis.setRaw(\"selectedDataItem\", parent);\n\t\t\t\tconst type = \"dataitemselected\";\n\t\t\t\tthis.events.dispatch(type, { type: type, target: this, dataItem: parent });\n\t\t\t\tthis.disableDataItem(dataItem);\n\t\t\t}\n\t\t}\n\t}\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","import type { DataItem } from \"../../core/render/Component\";\nimport type { Percent } from \"../../core/util/Percent\";\nimport type { LinkedHierarchyNode } from \"./LinkedHierarchyNode\";\nimport type { HierarchyLink } from \"./HierarchyLink\";\nimport type * as d3Hierarchy from \"d3-hierarchy\";\n\nimport { LinkedHierarchy, ILinkedHierarchySettings, ILinkedHierarchyDataItem, ILinkedHierarchyPrivate, ILinkedHierarchyEvents } from \"./LinkedHierarchy\";\n\nimport * as $array from \"../../core/util/Array\";\nimport * as $utils from \"../../core/util/Utils\";\nimport * as $type from \"../../core/util/Type\";\nimport * as d3Force from \"d3-force\";\n\n/**\n * @ignore\n */\nexport interface IForceDirectedDataObject {\n\tname?: string,\n\tvalue?: number,\n\tchildren?: IForceDirectedDataObject[],\n\tdataItem?: DataItem<IForceDirectedDataItem>\n};\n\nexport interface IForceDirectedDataItem extends ILinkedHierarchyDataItem {\n\n\t/**\n\t * An array of data items of child nodes.\n\t */\n\tchildren: Array<DataItem<IForceDirectedDataItem>>;\n\n\t/**\n\t * Data item of a parent node.\n\t */\n\tparent: DataItem<IForceDirectedDataItem>;\n\n\t/**\n\t * @ignore\n\t */\n\td3ForceNode: d3Force.SimulationNodeDatum;\n\n\t/**\n\t * X coordinate.\n\t */\n\tx: number | undefined;\n\n\t/**\n\t * Y coordinate.\n\t */\n\ty: number | undefined;\n}\n\nexport interface IForceDirectedSettings extends ILinkedHierarchySettings {\n\n\t/**\n\t * Minimum gap in pixels between the nodes.\n\t */\n\tnodePadding?: number;\n\n\t/**\n\t * A force that attracts (or pushes back) all nodes to the center of the\n\t * chart.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/force-directed/#Layout_and_force_simulation} for more info\n\t * @default 0.5\n\t */\n\tcenterStrength?: number;\n\n\t/**\n\t * A force that attracts (or pushes back) all nodes to each other.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/force-directed/#Layout_and_force_simulation} for more info\n\t * @default -15\n\t */\n\tmanyBodyStrength?: number;\n\n\t/**\n\t * A force that attracts (or pushes back) nodes that are linked together\n\t * via `linkWithField`.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/force-directed/#Layout_and_force_simulation} for more info\n\t * @default 0.5\n\t */\n\tlinkWithStrength?: number | undefined;\n\n\t/**\n\t * Resistance acting agains node speed.\n\t *\n\t * The greater the value, the more \"sluggish\" the nodes will be.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/force-directed/#Layout_and_force_simulation} for more info\n\t * @default 0.5\n\t */\n\tvelocityDecay?: number;\n\n\t/**\n\t * Length of how long initial force simulation would run in frames.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/force-directed/#Layout_and_force_simulation} for more info\n\t * @default 500\n\t */\n\tinitialFrames?: number;\n\n\t/**\n\t * If set to a number will wait X number of frames before revealing\n\t * the tree.\n\t *\n\t * Can be used to hide initial animations where nodes settle into their\n\t * places.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/force-directed/#Layout_and_force_simulation} for more info\n\t * @default 10\n\t */\n\tshowOnFrame?: number;\n\n\t/**\n\t * Smallest possible radius for a node circle.\n\t *\n\t * Can be a fixed pixel value or percent relative to chart size.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/force-directed/#Sizing_nodes} for more info\n\t * @default 1%\n\t */\n\tminRadius?: number | Percent;\n\n\t/**\n\t * Biggest possible radius for a node circle.\n\t *\n\t * Can be a fixed pixel value or percent relative to chart size.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/force-directed/#Sizing_nodes} for more info\n\t * @default 8%\n\t */\n\tmaxRadius?: number | Percent;\n\n\t/**\n\t * Field in data that holds X coordinate of the node.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/force-directed/#Fixed_nodes} for more info\n\t */\n\txField?: string;\n\n\t/**\n\t * Field in data that holds X coordinate of the node.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/force-directed/#Fixed_nodes} for more info\n\t */\n\tyField?: string;\n\n}\n\nexport interface IForceDirectedPrivate extends ILinkedHierarchyPrivate {\n}\n\nexport interface IForceDirectedEvents extends ILinkedHierarchyEvents {\n}\n\n/**\n * Creates a force-directed tree.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/force-directed/} for more info\n * @important\n */\nexport class ForceDirected extends LinkedHierarchy {\n\n\tprotected _tag: string = \"forcedirected\";\n\n\t/**\n\t * @ignore\n\t */\n\tpublic readonly d3forceSimulation: d3Force.Simulation<{}, d3Force.SimulationLinkDatum<d3Force.SimulationNodeDatum>> = d3Force.forceSimulation();\n\n\t/**\n\t * @ignore\n\t */\n\tpublic readonly collisionForce: d3Force.ForceCollide<d3Force.SimulationNodeDatum> = d3Force.forceCollide(20);\n\n\t/**\n\t * @ignore\n\t */\n\tpublic linkForce: d3Force.ForceLink<d3Force.SimulationNodeDatum, d3Force.SimulationLinkDatum<d3Force.SimulationNodeDatum>> = d3Force.forceLink();\n\n\tpublic static className: string = \"ForceDirected\";\n\tpublic static classNames: Array<string> = LinkedHierarchy.classNames.concat([ForceDirected.className]);\n\n\tdeclare public _settings: IForceDirectedSettings;\n\tdeclare public _privateSettings: IForceDirectedPrivate;\n\tdeclare public _dataItemSettings: IForceDirectedDataItem;\n\tdeclare public _events: IForceDirectedEvents;\n\n\tprotected _nodes: Array<any> = [];\n\tprotected _links: Array<any> = [];\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\n\t\tthis.d3forceSimulation.on(\"tick\", () => {\n\t\t\tthis._tick++;\n\t\t\tthis.updateNodePositions();\n\t\t});\n\t}\n\n\tprotected _tick: number = 0;\n\tprotected _nodesDirty: boolean = false;\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\t\tif (this.isDirty(\"showOnFrame\")) {\n\t\t\tconst showOnFrame = this.get(\"showOnFrame\");\n\t\t\tif (showOnFrame > this._tick) {\n\t\t\t\tthis.nodesContainer.setPrivate(\"visible\", false);\n\t\t\t\tthis.linksContainer.setPrivate(\"visible\", false);\n\t\t\t}\n\t\t}\n\n\t\tconst d3forceSimulation = this.d3forceSimulation;\n\n\t\tif (this.isDirty(\"velocityDecay\")) {\n\t\t\td3forceSimulation.velocityDecay(this.get(\"velocityDecay\", 0));\n\t\t}\n\n\t\tif (this.isDirty(\"initialFrames\")) {\n\t\t\td3forceSimulation.alphaDecay(1 - Math.pow(0.001, 1 / this.get(\"initialFrames\", 500)));\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic restartSimulation(alpha: number): void {\n\t\tconst d3forceSimulation = this.d3forceSimulation;\n\t\tif (d3forceSimulation.alpha() < .25) {\n\t\t\td3forceSimulation.alpha(alpha);\n\t\t\td3forceSimulation.restart();\n\t\t}\n\t}\n\n\tpublic _handleRadiusChange() {\n\t\tthis._updateForces();\n\t}\n\n\tprotected processDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tconst d3ForceNode: any = { index: this._index, x: this.innerWidth() / 2, y: this.innerHeight() / 2, dataItem: dataItem };\n\t\tconst index = this._nodes.push(d3ForceNode) - 1;\n\t\td3ForceNode.index = index;\n\n\t\tthis.d3forceSimulation.nodes(this._nodes);\n\n\t\tdataItem.set(\"d3ForceNode\", d3ForceNode);\n\t\tsuper.processDataItem(dataItem);\n\n\t\tconst node = dataItem.get(\"node\");\n\t\tnode.set(\"x\", -10000);\n\t\tnode.on(\"scale\", () => {\n\t\t\tthis._updateForces();\n\t\t})\n\n\t\tnode.events.on(\"dragged\", () => {\n\t\t\td3ForceNode.fx = node.x();\n\t\t\td3ForceNode.fy = node.y();\n\t\t\tthis._updateForces();\n\t\t})\n\n\t\tnode.events.on(\"dragstop\", () => {\n\t\t\tif (dataItem.get(\"x\") == null) {\n\t\t\t\td3ForceNode.fx = undefined;\n\t\t\t}\n\t\t\tif (dataItem.get(\"y\") == null) {\n\t\t\t\td3ForceNode.fy = undefined;\n\t\t\t}\n\t\t})\n\t}\n\n\tprotected _updateValues(d3HierarchyNode: d3Hierarchy.HierarchyNode<IForceDirectedDataObject>) {\n\t\tsuper._updateValues(d3HierarchyNode);\n\n\t\tthis._nodesDirty = true;\n\n\t\tconst d3forceSimulation = this.d3forceSimulation;\n\t\td3forceSimulation.force(\"collision\", this.collisionForce);\n\t\td3forceSimulation.nodes(this._nodes);\n\n\t\tthis.linkForce = d3Force.forceLink(this._links);\n\t\td3forceSimulation.force(\"link\", this.linkForce);\n\t}\n\n\tprotected _updateVisuals() {\n\t\tsuper._updateVisuals();\n\t\tthis.restartSimulation(.3);\n\t}\n\n\tpublic _updateChildren() {\n\t\tsuper._updateChildren();\n\n\t\tconst d3forceSimulation = this.d3forceSimulation;\n\n\t\tif (this._sizeDirty) {\n\t\t\tlet w = Math.max(50, this.innerWidth());\n\t\t\tlet h = Math.max(50, this.innerHeight());\n\t\t\tlet pt = this.get(\"paddingTop\", 0);\n\t\t\tlet pl = this.get(\"paddingLeft\", 0);\n\n\t\t\tlet centerStrength = this.get(\"centerStrength\", 1);\n\n\t\t\td3forceSimulation.force(\"x\", d3Force.forceX().x(w / 2 + pl).strength(centerStrength * 100 / w));\n\t\t\td3forceSimulation.force(\"y\", d3Force.forceY().y(h / 2 + pt).strength(centerStrength * 100 / h));\n\t\t}\n\n\t\tif (this._nodesDirty) {\n\t\t\tthis._updateForces();\n\t\t}\n\t}\n\n\tpublic _updateForces() {\n\t\tconst d3forceSimulation = this.d3forceSimulation;\n\t\td3forceSimulation.force(\"manybody\", d3Force.forceManyBody().strength((d3node) => {\n\t\t\tlet dataItem = (d3node as any).dataItem;\n\t\t\tlet node = dataItem.get(\"node\") as LinkedHierarchyNode;\n\t\t\tlet circle = dataItem.get(\"circle\");\n\t\t\tlet manyBodyStrength = this.get(\"manyBodyStrength\", -15);\n\n\t\t\tif (circle) {\n\t\t\t\treturn circle.get(\"radius\", 1) * node.get(\"scale\", 1) * manyBodyStrength;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}));\n\n\t\tthis.collisionForce.radius((d3node) => {\n\t\t\tlet dataItem = (d3node as any).dataItem;\n\t\t\tlet node = dataItem.get(\"node\") as LinkedHierarchyNode;\n\t\t\tlet circle = dataItem.get(\"circle\");\n\t\t\tlet outerCircle = dataItem.get(\"outerCircle\");\n\t\t\tif (circle && outerCircle) {\n\t\t\t\tlet radius = circle.get(\"radius\", 1);\n\n\t\t\t\tif (!outerCircle.isHidden()) {\n\t\t\t\t\tradius = radius * outerCircle.get(\"scale\", 1.1);\n\t\t\t\t}\n\n\t\t\t\tradius *= node.get(\"scale\", 1);\n\n\t\t\t\treturn radius + this.get(\"nodePadding\", 0);\n\t\t\t}\n\t\t})\n\t\tthis.restartSimulation(0.3);\n\t}\n\n\tprotected _animatePositions(_dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\t// void, do not remove\n\t}\n\n\tpublic _clearDirty() {\n\t\tsuper._clearDirty();\n\t\tthis._nodesDirty = false;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateNodePositions() {\n\t\tconst linkForce = this.linkForce;\n\t\tif (linkForce) {\n\t\t\tlinkForce.distance((linkDatum) => {\n\t\t\t\treturn this.getDistance(linkDatum)\n\t\t\t});\n\t\t\tlinkForce.strength((linkDatum) => {\n\t\t\t\treturn this.getStrength(linkDatum)\n\t\t\t});\n\t\t}\n\t\tif (this._tick == this.get(\"showOnFrame\")) {\n\t\t\tthis.nodesContainer.setPrivate(\"visible\", true);\n\t\t\tthis.linksContainer.setPrivate(\"visible\", true);\n\t\t}\n\n\t\tlet d3Nodes = this.d3forceSimulation.nodes();\n\n\t\t$array.each(d3Nodes, (d3Node: any) => {\n\t\t\tconst dataItem = d3Node.dataItem as DataItem<this[\"_dataItemSettings\"]>;\n\t\t\tconst node = dataItem.get(\"node\");\n\n\t\t\tnode.set(\"x\", d3Node.x);\n\t\t\tnode.set(\"y\", d3Node.y);\n\t\t})\n\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateLinkWith(dataItems: Array<DataItem<this[\"_dataItemSettings\"]>>) {\n\t\t$array.each(dataItems, (dataItem) => {\n\t\t\tconst linkWith = dataItem.get(\"linkWith\");\n\t\t\tif (linkWith) {\n\t\t\t\t$array.each(linkWith, (id) => {\n\t\t\t\t\tconst linkWithDataItem = this._getDataItemById(this.dataItems, id);\n\n\t\t\t\t\tif (linkWithDataItem) {\n\t\t\t\t\t\tthis.linkDataItems(dataItem, linkWithDataItem, this.get(\"linkWithStrength\"));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst children = dataItem.get(\"children\");\n\t\t\tif (children) {\n\t\t\t\tthis.updateLinkWith(children);\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tprotected getDistance(linkDatum: any) {\n\t\tlet sourceDataItem: DataItem<this[\"_dataItemSettings\"]> = <DataItem<this[\"_dataItemSettings\"]>>linkDatum.sourceDataItem;\n\t\tlet targetDataItem: DataItem<this[\"_dataItemSettings\"]> = <DataItem<this[\"_dataItemSettings\"]>>linkDatum.targetDataItem;\n\n\t\tlet distance = 0;\n\n\t\tif (sourceDataItem && targetDataItem) {\n\n\t\t\tconst targetNode = targetDataItem.get(\"node\");\n\t\t\tif (targetNode.isHidden()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tlet link = linkDatum.link;\n\t\t\tif (link) {\n\t\t\t\tdistance = link.get(\"distance\", 1);\n\t\t\t}\n\n\t\t\tconst sourceNode = sourceDataItem.get(\"node\");\n\n\t\t\tif (targetNode.isHidden()) {\n\t\t\t\tdistance = 1;\n\t\t\t}\n\n\t\t\treturn (distance * (sourceDataItem.get(\"circle\").get(\"radius\", 1) * sourceNode.get(\"scale\", 1) + targetDataItem.get(\"circle\").get(\"radius\", 1) * targetNode.get(\"scale\", 1)));\n\t\t}\n\t\treturn distance;\n\t}\n\n\t/**\n\t * @ignore\n\t * @todo description\n\t */\n\tprotected getStrength(linkDatum: any) {\n\t\tlet strength = 0;\n\n\t\tlet link = linkDatum.link;\n\t\tif (link) {\n\t\t\tstrength = link.get(\"strength\", 1);\n\t\t}\n\n\t\tconst targetDataItem = linkDatum.targetDataItem;\n\t\tstrength *= targetDataItem.get(\"node\").get(\"scale\");\n\n\t\treturn strength;\n\t}\n\n\tprotected _updateNode(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tsuper._updateNode(dataItem);\n\t\tthis._updateRadius(dataItem);\n\n\t\tconst x = dataItem.get(\"x\");\n\t\tconst y = dataItem.get(\"y\");\n\n\t\tconst d3Node = dataItem.get(\"d3ForceNode\");\n\n\t\tif (x != null) {\n\t\t\t(d3Node as any).fx = $utils.relativeToValue(x, this.innerWidth());\n\t\t}\n\t\telse {\n\t\t\t(d3Node as any).fx = undefined;\n\t\t}\n\n\t\tif (y != null) {\n\t\t\t(d3Node as any).fy = $utils.relativeToValue(y, this.innerHeight());\n\t\t}\n\t\telse {\n\t\t\t(d3Node as any).fx = undefined;\n\t\t}\n\t}\n\n\tprotected _updateRadius(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tlet size = (this.innerWidth() + this.innerHeight()) / 2;\n\n\t\tlet minRadius = $utils.relativeToValue(this.get(\"minRadius\", 1), size);\n\t\tlet maxRadius = $utils.relativeToValue(this.get(\"maxRadius\", 5), size);\n\n\t\tlet valueWorking = dataItem.get(\"sum\");\n\n\t\tlet radius = maxRadius;\n\n\t\tconst min = this.getPrivate(\"valueLow\", 0);\n\t\tconst max = this.getPrivate(\"valueHigh\", 0);\n\n\t\tif (max > 0) {\n\t\t\tradius = minRadius + (valueWorking - min) / (max - min) * (maxRadius - minRadius);\n\t\t}\n\n\t\tif (!$type.isNumber(radius)) {\n\t\t\tradius = minRadius;\n\t\t}\n\n\t\tconst duration = this.get(\"animationDuration\", 0);\n\t\tconst easing = this.get(\"animationEasing\");\n\n\t\tdataItem.get(\"circle\").animate({ key: \"radius\", to: radius, duration: duration, easing: easing });\n\t}\n\n\tprotected _processLink(link: HierarchyLink, source: DataItem<this[\"_dataItemSettings\"]>, target: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tconst d3Link = { link: link, source: source.get(\"d3ForceNode\").index, target: target.get(\"d3ForceNode\").index, sourceDataItem: source, targetDataItem: target };\n\t\tthis._links.push(d3Link);\n\t\tlink.setPrivate(\"d3Link\", d3Link);\n\n\t\tthis.linkForce = d3Force.forceLink(this._links);\n\t\tthis.d3forceSimulation.force(\"link\", this.linkForce);\n\t\tthis.restartSimulation(0.5);\n\t}\n\n\tprotected _disposeLink(link: HierarchyLink) {\n\t\tsuper._disposeLink(link);\n\t\t$array.remove(this._links, link.getPrivate(\"d3Link\"));\n\t}\n\n\tprotected _handleUnlink() {\n\t\tthis.restartSimulation(0.5);\n\t}\n\n\tprotected _onDataClear() {\n\n\t\tsuper._onDataClear();\n\n\t\tthis._nodes = [];\n\t\tthis._links = [];\n\t}\n}\n","import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {shuffle} from \"../array.js\";\nimport lcg from \"../lcg.js\";\n\nexport default function(circles) {\n  return packEncloseRandom(circles, lcg());\n}\n\nexport function packEncloseRandom(circles, random) {\n  var i = 0, n = (circles = shuffle(Array.from(circles), random)).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(Math.abs(A) > 1e-6 ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array, random) {\n  let m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import array from \"../array.js\";\nimport lcg from \"../lcg.js\";\nimport {packEncloseRandom} from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packSiblingsRandom(circles, random) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = packEncloseRandom(a, random);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packSiblingsRandom(circles, lcg());\n  return circles;\n}\n","import {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\nimport lcg from \"../lcg.js\";\nimport {packSiblingsRandom} from \"./siblings.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    const random = lcg();\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildrenRandom(padding, 0.5, random))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildrenRandom(constantZero, 1, random))\n          .eachAfter(packChildrenRandom(padding, root.r / Math.min(dx, dy), random))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildrenRandom(padding, k, random) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packSiblingsRandom(children, random);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","import type { DataItem } from \"../../core/render/Component\";\nimport type { HierarchyNode } from \"./HierarchyNode\";\n\nimport { Hierarchy, IHierarchyPrivate, IHierarchySettings, IHierarchyDataItem, IHierarchyEvents } from \"./Hierarchy\";\nimport { Circle } from \"../../core/render/Circle\";\nimport { Template } from \"../../core/util/Template\";\nimport { ListTemplate } from \"../../core/util/List\";\n\nimport * as $array from \"../../core/util/Array\";\nimport * as d3hierarchy from \"d3-hierarchy\";\nimport * as $utils from \"../../core/util/Utils\";\n\n/**\n * @ignore\n */\nexport interface IPackDataObject {\n\tname?: string,\n\tvalue?: number,\n\tchildren?: IPackDataObject[],\n\tdataItem?: DataItem<IPackDataItem>\n};\n\nexport interface IPackDataItem extends IHierarchyDataItem {\n\n\t/**\n\t * An array of data items of node's children.\n\t */\n\tchildren: Array<DataItem<IPackDataItem>>;\n\n\t/**\n\t * A data item of node's parent.\n\t */\n\tparent: DataItem<IPackDataItem>;\n\n\t/**\n\t * @ignore\n\t */\n\td3HierarchyNode: d3hierarchy.HierarchyCircularNode<IPackDataObject>;\n\n\t/**\n\t * A [[Circle]] element of the node.\n\t */\n\tcircle: Circle;\n\n}\n\nexport interface IPackSettings extends IHierarchySettings {\n\n\t/**\n\t * Gap between nodes, in pixels.\n\t *\n\t * @since 5.2.6\n\t */\n\tnodePadding?:number\n\n}\n\nexport interface IPackPrivate extends IHierarchyPrivate {\n\n\t/**\n\t * @ignore\n\t */\n\tscaleR?: number;\n\n}\n\nexport interface IPackEvents extends IHierarchyEvents {\n}\n\n/**\n * Builds a pack diagram.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/sunburst/} for more info\n * @important\n */\nexport class Pack extends Hierarchy {\n\n\tdeclare public _settings: IPackSettings;\n\tdeclare public _privateSettings: IPackPrivate;\n\tdeclare public _dataItemSettings: IPackDataItem;\n\n\tprotected _tag: string = \"pack\";\n\n\tpublic static className: string = \"Pack\";\n\tpublic static classNames: Array<string> = Hierarchy.classNames.concat([Pack.className]);\n\n\tpublic _packLayout = d3hierarchy.pack();\n\tdeclare public _rootNode: d3hierarchy.HierarchyCircularNode<IPackDataObject> | undefined;\n\tpublic _packData: IPackDataObject | undefined;\n\n\t/**\n\t * A list of node circle elements in a [[Pack]] chart.\n\t *\n\t * @default new ListTemplate<Circle>\n\t */\n\tpublic readonly circles: ListTemplate<Circle> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Circle._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.circles.template.get(\"themeTags\", []), [this._tag, \"shape\"])\n\t\t}, [this.circles.template])\n\t);\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\t\tthis.setPrivate(\"scaleR\", 1);\n\t}\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tif (this.isPrivateDirty(\"scaleR\")) {\n\t\t\tif (this._rootNode) {\n\t\t\t\tthis._updateNodesScale(this._rootNode);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _updateVisuals() {\n\t\tif (this._rootNode) {\n\t\t\tconst packLayout = this._packLayout;\n\t\t\tpackLayout.size([this.innerWidth(), this.innerHeight()]);\n\t\t\tpackLayout(this._rootNode);\n\t\t\tpackLayout.padding(this.get(\"nodePadding\", 0));\n\t\t\tthis._updateNodes(this._rootNode);\n\t\t}\n\t}\n\n\tprotected _updateNode(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tsuper._updateNode(dataItem);\n\n\t\tconst node = dataItem.get(\"node\");\n\t\tconst circle = dataItem.get(\"circle\");\n\t\tconst hierarchyNode = dataItem.get(\"d3HierarchyNode\");\n\n\t\tconst scaleR = this.getPrivate(\"scaleR\", 1);\n\n\t\tconst x = hierarchyNode.x * scaleR;\n\t\tconst y = hierarchyNode.y * scaleR;\n\t\tconst radius = hierarchyNode.r * scaleR;\n\n\t\tconst duration = this.get(\"animationDuration\", 0);\n\t\tconst easing = this.get(\"animationEasing\");\n\n\t\tnode.animate({ key: \"x\", to: x, duration: duration, easing: easing })\n\t\tnode.animate({ key: \"y\", to: y, duration: duration, easing: easing })\n\n\t\tif (circle) {\n\t\t\tconst fill = dataItem.get(\"fill\");\n\n\t\t\tcircle.animate({ key: \"radius\", to: radius, duration: duration, easing: easing })\n\t\t\tcircle._setDefault(\"fill\", fill);\n\t\t\tcircle._setDefault(\"stroke\", fill);\n\t\t}\n\t}\n\n\tprotected _updateNodesScale(hierarchyNode: d3hierarchy.HierarchyCircularNode<IPackDataObject>) {\n\t\tconst dataItem = hierarchyNode.data.dataItem;\n\t\tif (dataItem) {\n\t\t\tconst node = dataItem.get(\"node\");\n\t\t\tconst circle = dataItem.get(\"circle\");\n\n\t\t\tconst scaleR = this.getPrivate(\"scaleR\", 1);\n\n\t\t\tconst x = hierarchyNode.x * scaleR;\n\t\t\tconst y = hierarchyNode.y * scaleR;\n\t\t\tconst radius = hierarchyNode.r * scaleR;\n\n\t\t\tnode.setAll({ x: x, y: y })\n\t\t\tcircle.set(\"radius\", radius);\n\n\t\t\tconst hierarchyChildren = hierarchyNode.children;\n\t\t\tif (hierarchyChildren) {\n\t\t\t\t$array.each(hierarchyChildren, (hierarchyChild) => {\n\t\t\t\t\tthis._updateNodesScale(hierarchyChild)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeNode(dataItem: DataItem<this[\"_dataItemSettings\"]>): HierarchyNode {\n\t\tconst node = super.makeNode(dataItem);\n\n\t\tconst circle = node.children.moveValue(this.circles.make(), 0);\n\t\tnode.setPrivate(\"tooltipTarget\", circle);\n\t\tthis.circles.push(circle);\n\t\tdataItem.setRaw(\"circle\", circle);\n\n\t\tconst label = dataItem.get(\"label\");\n\n\t\tcircle.on(\"radius\", () => {\n\t\t\tconst d = circle.get(\"radius\", this.width()) * 2;\n\t\t\tlabel.setAll({ maxWidth: d, maxHeight: d });\n\t\t})\n\n\t\treturn node;\n\t}\n\n\tpublic _zoom(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tconst hierarchyNode = dataItem.get(\"d3HierarchyNode\");\n\n\t\tlet x = hierarchyNode.x;\n\t\tlet y = hierarchyNode.y;\n\t\tlet r = hierarchyNode.r;\n\n\t\tlet scaleR = Math.min(this.innerWidth(), this.innerHeight()) / (r * 2);\n\n\t\tconst easing = this.get(\"animationEasing\");\n\t\tlet duration = this.get(\"animationDuration\", 0);\n\n\t\tif (!this.inited) {\n\t\t\tduration = 0;\n\t\t}\n\n\t\tthis.animatePrivate({ key: \"scaleR\", to: scaleR, duration: duration, easing: easing });\n\n\t\tconst nodesContainer = this.nodesContainer;\n\t\tnodesContainer.animate({ key: \"x\", from: nodesContainer.x(), to: this.width() / 2 - x * scaleR, duration: duration, easing: easing });\n\t\tnodesContainer.animate({ key: \"y\", from: nodesContainer.y(), to: this.height() / 2 - y * scaleR, duration: duration, easing: easing });\n\t}\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import type { HierarchyNode } from \"./HierarchyNode\";\nimport type { DataItem } from \"../../core/render/Component\";\n\nimport { Hierarchy, IHierarchyPrivate, IHierarchySettings, IHierarchyDataItem, IHierarchyDataObject } from \"./Hierarchy\";\nimport { Template } from \"../../core/util/Template\";\nimport { ListTemplate } from \"../../core/util/List\";\nimport { RoundedRectangle } from \"../../core/render/RoundedRectangle\";\n\nimport * as $array from \"../../core/util/Array\";\nimport * as $type from \"../../core/util/Type\";\nimport * as $utils from \"../../core/util/Utils\";\nimport * as d3hierarchy from \"d3-hierarchy\";\n\n/**\n * @ignore\n */\nexport interface IPartitionDataObject {\n\tname?: string,\n\tvalue?: number,\n\tchildren?: IPartitionDataObject[],\n\tdataItem?: DataItem<IPartitionDataItem>\n};\n\nexport interface IPartitionDataItem extends IHierarchyDataItem {\n\n\t/**\n\t * Data items of child nodes.\n\t */\n\tchildren: Array<DataItem<IPartitionDataItem>>;\n\n\t/**\n\t * Data it of a parent node.\n\t */\n\tparent: DataItem<IPartitionDataItem>;\n\n\t/**\n\t * @ignore\n\t */\n\td3HierarchyNode: d3hierarchy.HierarchyRectangularNode<IHierarchyDataObject>;\n\n\t/**\n\t * A [[RoundedRectangle]] element of a node.\n\t */\n\trectangle: RoundedRectangle;\n\n}\n\nexport interface IPartitionSettings extends IHierarchySettings {\n\n\t/**\n\t * Gap between nodes in pixels.\n\t *\n\t * @default 0\n\t */\n\tnodePadding?: number;\n\n\t/**\n\t * Orientation of the diagram.\n\t *\n\t * @default \"vertical\"\n\t */\n\torientation?: \"horizontal\" | \"vertical\";\n\n}\n\nexport interface IPartitionPrivate extends IHierarchyPrivate {\n\n\t/**\n\t * Current horizontal scale.\n\t */\n\tscaleX?: number;\n\n\t/**\n\t * Current vertical scale.\n\t */\n\tscaleY?: number;\n\n}\n\n/**\n * Partition series.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/partition/} for more info\n */\nexport class Partition extends Hierarchy {\n\n\tdeclare public _settings: IPartitionSettings;\n\tdeclare public _privateSettings: IPartitionPrivate;\n\tdeclare public _dataItemSettings: IPartitionDataItem;\n\n\tprotected _tag: string = \"partition\";\n\n\tpublic static className: string = \"Partition\";\n\tpublic static classNames: Array<string> = Hierarchy.classNames.concat([Partition.className]);\n\n\t/**\n\t * A list of node rectangle elements in a [[Partition]] chart.\n\t *\n\t * @default new ListTemplate<RoundedRectangle>\n\t */\n\tpublic readonly rectangles: ListTemplate<RoundedRectangle> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => RoundedRectangle._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.rectangles.template.get(\"themeTags\", []), [this._tag, \"shape\"])\n\t\t}, [this.rectangles.template])\n\t);\n\n\tpublic _partitionLayout = d3hierarchy.partition();\n\n\tdeclare public _rootNode: d3hierarchy.HierarchyRectangularNode<IPartitionDataObject> | undefined;\n\n\tprotected _afterNew() {\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"partition\", this._settings.orientation || \"vertical\"]);\n\t\tsuper._afterNew();\n\t\tthis.setPrivate(\"scaleX\", 1);\n\t\tthis.setPrivate(\"scaleY\", 1);\n\t}\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tif (this.isDirty(\"nodePadding\")) {\n\t\t\tif (this._rootNode) {\n\t\t\t\tthis._updateNodes(this._rootNode);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isPrivateDirty(\"scaleX\") || this.isPrivateDirty(\"scaleY\")) {\n\t\t\tif (this._rootNode) {\n\t\t\t\tthis._updateNodesScale(this._rootNode);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"orientation\")) {\n\t\t\tthis._updateVisuals();\n\t\t}\n\t}\n\n\tprotected _updateVisuals() {\n\t\tif (this._rootNode) {\n\t\t\tconst partitionLayout = this._partitionLayout;\n\t\t\tlet w = this.innerWidth();\n\t\t\tlet h = this.innerHeight();\n\n\t\t\tif (this.get(\"orientation\") == \"horizontal\") {\n\t\t\t\t[w, h] = [h, w];\n\t\t\t}\n\n\t\t\tpartitionLayout.size([w, h]);\n\n\t\t\tconst nodePadding = this.get(\"nodePadding\");\n\n\t\t\tif ($type.isNumber(nodePadding)) {\n\t\t\t\tpartitionLayout.padding(nodePadding);\n\t\t\t}\n\n\n\t\t\tpartitionLayout(this._rootNode);\n\t\t\tthis._updateNodes(this._rootNode);\n\t\t}\n\t}\n\n\tprotected _updateNode(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tsuper._updateNode(dataItem);\n\n\t\tconst node = dataItem.get(\"node\");\n\t\tconst rectangle = dataItem.get(\"rectangle\");\n\t\tconst hierarchyNode = dataItem.get(\"d3HierarchyNode\");\n\n\t\tconst scaleX = this.getPrivate(\"scaleX\", 1);\n\t\tconst scaleY = this.getPrivate(\"scaleY\", 1);\n\n\t\tlet x0, x1, y0, y1: number;\n\n\t\tif (this.get(\"orientation\") == \"horizontal\") {\n\t\t\tx0 = hierarchyNode.y0 * scaleX;\n\t\t\tx1 = hierarchyNode.y1 * scaleX;\n\t\t\ty0 = hierarchyNode.x0 * scaleY;\n\t\t\ty1 = hierarchyNode.x1 * scaleY;\n\t\t}\n\t\telse {\n\t\t\tx0 = hierarchyNode.x0 * scaleX;\n\t\t\tx1 = hierarchyNode.x1 * scaleX;\n\t\t\ty0 = hierarchyNode.y0 * scaleY;\n\t\t\ty1 = hierarchyNode.y1 * scaleY;\n\t\t}\n\t\tlet w = x1 - x0;\n\t\tlet h = y1 - y0;\n\n\t\tconst duration = this.get(\"animationDuration\", 0);\n\t\tconst easing = this.get(\"animationEasing\");\n\n\t\tnode.animate({ key: \"x\", to: x0, duration: duration, easing: easing })\n\t\tnode.animate({ key: \"y\", to: y0, duration: duration, easing: easing })\n\t\tnode.animate({ key: \"width\", to: w, duration: duration, easing: easing })\n\t\tnode.animate({ key: \"height\", to: h, duration: duration, easing: easing })\n\n\t\tif (rectangle) {\n\t\t\tconst fill = dataItem.get(\"fill\");\n\t\t\t\n\t\t\trectangle.animate({ key: \"width\", to: w, duration: duration, easing: easing })\n\t\t\trectangle.animate({ key: \"height\", to: h, duration: duration, easing: easing })\n\t\t\trectangle._setDefault(\"fill\", fill);\n\t\t\trectangle._setDefault(\"stroke\", fill);\t\t\t\n\t\t}\n\t}\n\n\n\tprotected _updateNodesScale(hierarchyNode: d3hierarchy.HierarchyRectangularNode<IPartitionDataObject>) {\n\t\tconst dataItem = hierarchyNode.data.dataItem;\n\t\tif (dataItem) {\n\t\t\tconst node = dataItem.get(\"node\");\n\t\t\tconst rectangle = dataItem.get(\"rectangle\");\n\n\t\t\tconst scaleX = this.getPrivate(\"scaleX\", 1);\n\t\t\tconst scaleY = this.getPrivate(\"scaleY\", 1);\n\n\t\t\tlet x0, x1, y0, y1: number;\n\n\t\t\tif (this.get(\"orientation\") == \"horizontal\") {\n\t\t\t\tx0 = hierarchyNode.y0 * scaleX;\n\t\t\t\tx1 = hierarchyNode.y1 * scaleX;\n\t\t\t\ty0 = hierarchyNode.x0 * scaleY;\n\t\t\t\ty1 = hierarchyNode.x1 * scaleY;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tx0 = hierarchyNode.x0 * scaleX;\n\t\t\t\tx1 = hierarchyNode.x1 * scaleX;\n\t\t\t\ty0 = hierarchyNode.y0 * scaleY;\n\t\t\t\ty1 = hierarchyNode.y1 * scaleY;\n\t\t\t}\n\n\t\t\tconst w = x1 - x0;\n\t\t\tconst h = y1 - y0;\n\n\t\t\tnode.setAll({ x: x0, y: y0, width: w, height: h });\n\t\t\trectangle.setAll({ width: w, height: h });\n\n\t\t\tconst hierarchyChildren = hierarchyNode.children;\n\t\t\tif (hierarchyChildren) {\n\t\t\t\t$array.each(hierarchyChildren, (hierarchyChild) => {\n\t\t\t\t\tthis._updateNodesScale(hierarchyChild)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeNode(dataItem: DataItem<this[\"_dataItemSettings\"]>): HierarchyNode {\n\t\tconst node = super.makeNode(dataItem);\n\t\tthis._makeNode(dataItem, node);\n\t\treturn node;\n\t}\n\n\tprotected _makeNode(dataItem: DataItem<this[\"_dataItemSettings\"]>, node: HierarchyNode) {\n\t\tconst rectangle = node.children.moveValue(this.rectangles.make(), 0);\n\t\tnode.setPrivate(\"tooltipTarget\", rectangle);\n\t\tdataItem.setRaw(\"rectangle\", rectangle);\n\t\trectangle._setDataItem(dataItem);\n\n\t\tconst label = dataItem.get(\"label\");\n\n\t\trectangle.on(\"width\", () => {\n\t\t\tlabel.set(\"maxWidth\", rectangle.width());\n\t\t})\n\n\t\trectangle.on(\"height\", () => {\n\t\t\tlabel.set(\"maxHeight\", rectangle.height());\n\t\t})\n\t}\n\n\tprotected _zoom(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tlet x0 = 0;\n\t\tlet x1 = 0;\n\t\tlet y0 = 0;\n\t\tlet y1 = 0;\n\n\t\tconst upDepth = this.get(\"upDepth\", 0) + 1;\n\t\tconst topDepth = this.get(\"topDepth\", 0);\n\n\t\tconst width = this.innerWidth();\n\t\tconst height = this.innerHeight();\n\n\t\tconst maxDepth = this.getPrivate(\"maxDepth\", 1);\n\t\tconst levelHeight = height / (maxDepth + 1);\n\t\tconst levelWidth = width / (maxDepth + 1);\n\t\tconst initialDepth = Math.min(this.get(\"initialDepth\", 1), maxDepth - topDepth);\n\n\t\tlet downDepth = this._currentDownDepth;\n\t\tif (downDepth == null) {\n\t\t\tdownDepth = this.get(\"downDepth\", 1);\n\t\t}\n\n\t\tif (dataItem) {\n\t\t\tconst hierarchyNode = dataItem.get(\"d3HierarchyNode\");\n\t\t\tlet currentDepth = hierarchyNode.depth;\n\n\t\t\tif (this.get(\"orientation\") == \"horizontal\") {\n\t\t\t\tx0 = hierarchyNode.y0;\n\t\t\t\tx1 = hierarchyNode.y1;\n\n\t\t\t\ty0 = hierarchyNode.x0;\n\t\t\t\ty1 = hierarchyNode.x1;\n\n\t\t\t\tx0 = x1 - levelWidth * upDepth;\n\t\t\t\tx1 = x0 + levelWidth * (downDepth + 1);\n\n\t\t\t\tif (currentDepth < topDepth) {\n\t\t\t\t\ty0 = 0;\n\t\t\t\t\ty1 = height;\n\t\t\t\t\tx0 = levelWidth * topDepth;\n\t\t\t\t\tx1 = x0 + levelWidth * initialDepth;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tx0 = hierarchyNode.x0;\n\t\t\t\tx1 = hierarchyNode.x1;\n\n\t\t\t\ty0 = hierarchyNode.y0;\n\t\t\t\ty1 = hierarchyNode.y1;\n\n\t\t\t\ty0 = y1 - levelHeight * upDepth;\n\t\t\t\ty1 = y0 + levelHeight * (downDepth + 1);\n\n\t\t\t\tif (currentDepth < topDepth) {\n\t\t\t\t\tx0 = 0;\n\t\t\t\t\tx1 = width;\n\t\t\t\t\ty0 = levelHeight * topDepth;\n\t\t\t\t\ty1 = y0 + levelHeight * initialDepth;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet scaleX = width / (x1 - x0);\n\t\tlet scaleY = height / (y1 - y0);\n\n\t\tconst easing = this.get(\"animationEasing\");\n\t\tlet duration = this.get(\"animationDuration\", 0);\n\n\t\tif (!this.inited) {\n\t\t\tduration = 0;\n\t\t}\n\n\t\tthis.animatePrivate({ key: \"scaleX\", to: scaleX, duration: duration, easing: easing });\n\t\tthis.animatePrivate({ key: \"scaleY\", to: scaleY, duration: duration, easing: easing });\n\n\t\tthis.nodesContainer.animate({ key: \"x\", to: -x0 * scaleX, duration: duration, easing: easing });\n\t\tthis.nodesContainer.animate({ key: \"y\", to: -y0 * scaleY, duration: duration, easing: easing });\n\t}\n}\n","import type { Root } from \"../../core/Root\";\nimport type { DataItem } from \"../../core/render/Component\";\nimport type { HierarchyNode } from \"./HierarchyNode\";\nimport type { Bullet } from \"../../core/render/Bullet\";\nimport type { Series } from \"../../core/render/Series\";\n\nimport { Partition, IPartitionPrivate, IPartitionSettings, IPartitionDataItem } from \"./Partition\";\nimport { Template } from \"../../core/util/Template\";\nimport { ListTemplate } from \"../../core/util/List\";\nimport { Slice } from \"../../core/render/Slice\";\nimport { RadialLabel } from \"../../core/render/RadialLabel\";\nimport { Percent, p100, p50 } from \"../../core/util/Percent\";\n\nimport * as $array from \"../../core/util/Array\";\nimport * as d3hierarchy from \"d3-hierarchy\";\nimport * as $utils from \"../../core/util/Utils\";\nimport * as $type from \"../../core/util/Type\";\nimport * as $math from \"../../core/util/Math\";\n\n/**\n * @ignore\n */\nexport interface ISunburstDataObject {\n\tname?: string,\n\tvalue?: number,\n\tchildren?: ISunburstDataObject[],\n\tdataItem?: DataItem<ISunburstDataItem>\n};\n\nexport interface ISunburstDataItem extends IPartitionDataItem {\n\n\t/**\n\t * Data items of child nodes.\n\t */\n\tchildren: Array<DataItem<ISunburstDataItem>>;\n\n\t/**\n\t * Data item of a parent node.\n\t */\n\tparent: DataItem<ISunburstDataItem>;\n\n\t/**\n\t * @ignore\n\t */\n\td3PartitionNode: d3hierarchy.HierarchyRectangularNode<ISunburstDataObject>;\n\n\t/**\n\t * A [[Slice]] element of the node.\n\t */\n\tslice: Slice;\n\n}\n\nexport interface ISunburstSettings extends IPartitionSettings {\n\n\t/**\n\t * Start angle of the series.\n\t *\n\t * @default -90\n\t */\n\tstartAngle?: number;\n\n\t/**\n\t * End angle of the series.\n\t *\n\t * @default 270\n\t */\n\tendAngle?: number;\n\n\t/**\n\t * Inner radius of the suburst pie.\n\t *\n\t * Setting to negative number will mean pixels from outer radius.\n\t *\n\t * @default 0\n\t */\n\tinnerRadius?: number | Percent;\n\n\t/**\n\t * Outer radius of the sunburst pie.\n\t *\n\t * @default 100%\n\t */\n\tradius?: number | Percent;\n\n}\n\nexport interface ISunburstPrivate extends IPartitionPrivate {\n\n\t/**\n\t * @ignore\n\t */\n\tdr: number;\n\n\t/**\n\t * @ignore\n\t */\n\tdx: number;\n\n\t/**\n\t * @ignore\n\t */\n\tinnerRadius: number;\n\n\t/**\n\t * @ignore\n\t */\n\thierarchySize?: number;\n\n}\n\n/**\n * Builds a sunburst diagram.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/sunburst/} for more info\n * @important\n */\nexport class Sunburst extends Partition {\n\n\tdeclare public _settings: ISunburstSettings;\n\tdeclare public _privateSettings: ISunburstPrivate;\n\tdeclare public _dataItemSettings: ISunburstDataItem;\n\n\tprotected _tag: string = \"sunburst\";\n\n\tpublic static className: string = \"Sunburst\";\n\tpublic static classNames: Array<string> = Partition.classNames.concat([Sunburst.className]);\n\n\tpublic _partitionLayout = d3hierarchy.partition();\n\n\tdeclare public _rootNode: d3hierarchy.HierarchyRectangularNode<ISunburstDataObject> | undefined;\n\n\t/**\n\t * A list of node slice elements in a [[Sunburst]] chart.\n\t *\n\t * @default new ListTemplate<Slice>\n\t */\n\tpublic readonly slices: ListTemplate<Slice> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => Slice._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.slices.template.get(\"themeTags\", []), [this._tag, \"hierarchy\", \"node\", \"shape\"])\n\t\t}, [this.slices.template])\n\t);\n\n\t/**\n\t * A list of label elements in a [[Hierarchy]] chart.\n\t *\n\t * @default new ListTemplate<RadialLabel>\n\t */\n\tpublic readonly labels: ListTemplate<RadialLabel> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => RadialLabel._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.labels.template.get(\"themeTags\", []), [this._tag])\n\t\t}, [this.labels.template])\n\t);\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\t\tthis.nodesContainer.setAll({ x: p50, y: p50 });\n\t\tthis.setPrivateRaw(\"dx\", 0);\n\t\tthis.setPrivateRaw(\"dr\", 0);\n\t}\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tif (this.isPrivateDirty(\"dr\") || this.isPrivateDirty(\"dx\")) {\n\t\t\tif (this._rootNode) {\n\t\t\t\tthis._updateNodesScale(this._rootNode);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _updateVisuals() {\n\t\tif (this._rootNode) {\n\t\t\tconst partitionLayout = this._partitionLayout;\n\n\t\t\tlet bounds = $math.getArcBounds(0, 0, this.get(\"startAngle\", 0), this.get(\"endAngle\", 360), 1);\n\n\t\t\tlet w = this.innerWidth();\n\t\t\tlet h = this.innerHeight();\n\n\t\t\tconst wr = w / (bounds.right - bounds.left);\n\t\t\tconst hr = h / (bounds.bottom - bounds.top);\n\n\t\t\tlet s = Math.min(wr, hr);\n\n\t\t\tlet r = $utils.relativeToValue(this.get(\"radius\", p100), s);\n\t\t\tlet ir = $utils.relativeToValue(this.get(\"innerRadius\", 0), r);\n\n\t\t\tif (ir < 0) {\n\t\t\t\tir = r + ir;\n\t\t\t}\n\n\t\t\ts = r - ir;\n\n\t\t\tthis.setPrivateRaw(\"innerRadius\", ir);\n\t\t\tthis.setPrivateRaw(\"hierarchySize\", s);\n\n\t\t\tpartitionLayout.size([s, s]);\n\n\t\t\tthis.nodesContainer.setAll({\n\t\t\t\tdy: -r * (bounds.bottom + bounds.top) / 2, dx: -r * (bounds.right + bounds.left) / 2\n\t\t\t})\n\n\t\t\tconst nodePadding = this.get(\"nodePadding\");\n\n\t\t\tif ($type.isNumber(nodePadding)) {\n\t\t\t\tpartitionLayout.padding(nodePadding);\n\t\t\t}\n\n\n\t\t\tpartitionLayout(this._rootNode);\n\t\t\tthis._updateNodes(this._rootNode);\n\t\t}\n\t}\n\n\tprotected _updateNode(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tsuper._updateNode(dataItem);\n\n\t\tconst hierarchyNode = dataItem.get(\"d3HierarchyNode\");\n\t\tconst node = dataItem.get(\"node\");\n\n\t\tnode.setAll({ x: 0, y: 0 });\n\t\tconst duration = this.get(\"animationDuration\", 0);\n\t\tconst easing = this.get(\"animationEasing\");\n\n\t\tconst scaleX = this.getPrivate(\"scaleX\", 1);\n\t\tconst scaleY = this.getPrivate(\"scaleY\", 1);\n\t\tconst dr = this.getPrivate(\"dr\", 0);\n\t\tconst dx = this.getPrivate(\"dx\", 0);\n\n\t\tconst x0 = hierarchyNode.x0 * scaleX + dx;\n\t\tconst x1 = hierarchyNode.x1 * scaleX + dx;\n\t\tconst y0 = hierarchyNode.y0 * scaleY;\n\t\tconst y1 = hierarchyNode.y1 * scaleY;\n\n\t\tconst ir = this.getPrivate(\"innerRadius\");\n\t\tconst hs = this.getPrivate(\"hierarchySize\", 0);\n\n\t\tconst slice = dataItem.get(\"slice\");\n\t\tif (slice) {\n\t\t\tconst startAngle = this.get(\"startAngle\", -90);\n\t\t\tconst endAngle = this.get(\"endAngle\", 270);\n\n\t\t\tconst sliceStartAngle = startAngle + x0 / hs * (endAngle - startAngle);\n\t\t\tconst arc = startAngle + x1 / hs * (endAngle - startAngle) - sliceStartAngle;\n\n\t\t\tlet sliceInnerRadius = ir + y0;\n\t\t\tlet sliceRadius = ir + y1;\n\n\t\t\tsliceInnerRadius -= dr;\n\t\t\tsliceRadius -= dr;\n\n\t\t\tsliceRadius = Math.max(0, sliceRadius);\n\t\t\tsliceInnerRadius = Math.max(0, sliceInnerRadius);\n\n\t\t\tslice.animate({ key: \"radius\", to: sliceRadius, duration: duration, easing: easing })\n\t\t\tslice.animate({ key: \"innerRadius\", to: sliceInnerRadius, duration: duration, easing: easing })\n\t\t\tslice.animate({ key: \"startAngle\", to: sliceStartAngle, duration: duration, easing: easing })\n\t\t\tslice.animate({ key: \"arc\", to: arc, duration: duration, easing: easing })\n\n\t\t\tconst fill = dataItem.get(\"fill\");\n\n\t\t\tslice._setDefault(\"fill\", fill);\n\t\t\tslice._setDefault(\"stroke\", fill);\n\t\t}\n\t}\n\n\n\tprotected _updateNodesScale(hierarchyNode: d3hierarchy.HierarchyRectangularNode<ISunburstDataObject>) {\n\t\tconst dataItem = hierarchyNode.data.dataItem;\n\t\tif (dataItem) {\n\t\t\tconst scaleX = this.getPrivate(\"scaleX\", 1);\n\t\t\tconst scaleY = this.getPrivate(\"scaleY\", 1);\n\t\t\tconst dr = this.getPrivate(\"dr\", 0);\n\t\t\tconst dx = this.getPrivate(\"dx\", 0);\n\n\t\t\tconst x0 = hierarchyNode.x0 * scaleX + dx;\n\t\t\tconst x1 = hierarchyNode.x1 * scaleX + dx;\n\t\t\tconst y0 = hierarchyNode.y0 * scaleY;\n\t\t\tconst y1 = hierarchyNode.y1 * scaleY;\n\n\t\t\tconst ir = this.getPrivate(\"innerRadius\");\n\t\t\tconst hs = this.getPrivate(\"hierarchySize\", 0);\n\n\t\t\tconst slice = dataItem.get(\"slice\");\n\t\t\tif (slice) {\n\t\t\t\tconst startAngle = this.get(\"startAngle\", -90);\n\t\t\t\tconst endAngle = this.get(\"endAngle\", 270);\n\n\t\t\t\tconst sliceStartAngle = startAngle + x0 / hs * (endAngle - startAngle);\n\t\t\t\tconst arc = startAngle + x1 / hs * (endAngle - startAngle) - sliceStartAngle;\n\n\t\t\t\tlet sliceInnerRadius = ir + y0;\n\t\t\t\tlet sliceRadius = ir + y1;\n\n\t\t\t\tsliceInnerRadius -= dr;\n\t\t\t\tsliceRadius -= dr;\n\n\t\t\t\tsliceRadius = Math.max(0, sliceRadius);\n\t\t\t\tsliceInnerRadius = Math.max(0, sliceInnerRadius);\n\n\t\t\t\tslice.setAll({ radius: sliceRadius, innerRadius: sliceInnerRadius, startAngle: sliceStartAngle, arc: arc });\n\t\t\t}\n\n\t\t\tconst hierarchyChildren = hierarchyNode.children;\n\t\t\tif (hierarchyChildren) {\n\t\t\t\t$array.each(hierarchyChildren, (hierarchyChild) => {\n\t\t\t\t\tthis._updateNodesScale(hierarchyChild)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _makeNode(dataItem: DataItem<this[\"_dataItemSettings\"]>, node: HierarchyNode) {\n\t\tconst slice = node.children.moveValue(this.slices.make(), 0);\n\t\tnode.setPrivate(\"tooltipTarget\", slice);\n\t\tdataItem.setRaw(\"slice\", slice);\n\n\t\tslice._setDataItem(dataItem);\n\n\t\tslice.on(\"arc\", () => {\n\t\t\tthis._updateLabel(dataItem);\n\t\t})\n\t\tslice.on(\"innerRadius\", () => {\n\t\t\tthis._updateLabel(dataItem);\n\t\t})\n\t\tslice.on(\"radius\", () => {\n\t\t\tthis._updateLabel(dataItem);\n\t\t})\n\t}\n\n\tprotected _updateLabel(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tconst slice = dataItem.get(\"slice\");\n\t\tconst label = dataItem.get(\"label\") as RadialLabel;\n\n\t\tif (slice && label) {\n\t\t\tlet innerRadius = slice.get(\"innerRadius\", 0);\n\t\t\tlet radius = slice.get(\"radius\", 0);\n\t\t\tlet angle = slice.get(\"startAngle\", 0);\n\t\t\tlet arc = Math.abs(slice.get(\"arc\", 0));\n\t\t\tlet labelAngle = angle + arc / 2;\n\t\t\tlet textType = label.get(\"textType\");\n\n\t\t\tlet maxWidth = radius - innerRadius;\n\t\t\tlet maxHeight = radius * arc * $math.RADIANS;\n\n\t\t\tif (innerRadius == 0 && arc >= 360 && textType == \"radial\") {\n\t\t\t\tradius = 1;\n\t\t\t\tlabelAngle = 0;\n\t\t\t\tmaxWidth *= 2;\n\t\t\t\tmaxHeight = maxWidth;\t\t\t\t\n\t\t\t}\n\n\t\t\tif (Math.round(arc) >= 360 && textType == \"radial\") {\n\t\t\t\tlabelAngle = 0;\n\t\t\t}\t\t\t\n\n\t\t\tif (textType == \"circular\") {\n\t\t\t\tmaxWidth = arc * $math.RADIANS * (innerRadius + (radius - innerRadius) / 2) - 10;\n\t\t\t}\n\n\n\t\t\tlabel.setAll({ labelAngle: labelAngle });\n\t\t\tlabel.setPrivate(\"radius\", radius);\n\t\t\tlabel.setPrivate(\"innerRadius\", innerRadius);\n\n\t\t\tlabel.setAll({\n\t\t\t\tmaxHeight: maxHeight,\n\t\t\t\tmaxWidth: maxWidth\n\t\t\t});\n\t\t}\n\t}\n\n\tprotected _zoom(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tlet x0 = 0;\n\t\tlet x1 = 0;\n\t\tlet hs = this.getPrivate(\"hierarchySize\", 0);\n\n\t\tconst hierarchyNode = dataItem.get(\"d3HierarchyNode\");\n\n\t\tlet upDepth = this.get(\"upDepth\", 0);\n\t\tlet topDepth = this.get(\"topDepth\", 0);\n\t\tlet currentDepth = hierarchyNode.depth;\n\t\tlet maxDepth = this.getPrivate(\"maxDepth\", 1);\n\t\tlet downDepth = this._currentDownDepth;\n\n\t\tif (downDepth == null) {\n\t\t\tdownDepth = this.get(\"downDepth\", 1);\n\t\t}\n\n\t\tconst levelHeight = hs / (maxDepth + 1);\n\n\t\tif (currentDepth < topDepth) {\n\t\t\tcurrentDepth = topDepth;\n\t\t}\n\n\t\tif (currentDepth - upDepth < 0) {\n\t\t\tupDepth = currentDepth;\n\t\t}\n\n\t\tx0 = hierarchyNode.x0;\n\t\tx1 = hierarchyNode.x1;\n\n\t\tlet scaleDepth = (downDepth + upDepth + 1);\n\n\t\tif (scaleDepth > maxDepth - topDepth + 1) {\n\t\t\tscaleDepth = maxDepth - topDepth + 1;\n\t\t}\n\n\t\tlet scaleX = hs / (x1 - x0);\n\t\tlet scaleY = hs / (levelHeight * scaleDepth);\n\n\t\tlet dr = Math.max(currentDepth - upDepth, topDepth) * levelHeight * scaleY;\n\n\t\tconst easing = this.get(\"animationEasing\");\n\t\tlet duration = this.get(\"animationDuration\", 0);\n\n\t\tif (!this.inited) {\n\t\t\tduration = 0;\n\t\t}\n\n\t\tlet dx = -x0 * scaleX\n\n\t\tthis.animatePrivate({ key: \"scaleX\", to: scaleX, duration: duration, easing: easing });\n\t\tthis.animatePrivate({ key: \"scaleY\", to: scaleY, duration: duration, easing: easing });\n\t\tthis.animatePrivate({ key: \"dr\", to: dr, duration: duration, easing: easing });\n\t\tthis.animatePrivate({ key: \"dx\", to: dx, duration: duration, easing: easing });\n\t}\n\n\n\tprotected _handleSingle(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tconst parent = dataItem.get(\"parent\");\n\t\tif (parent) {\n\t\t\tconst children = parent.get(\"children\");\n\t\t\tif (children) {\n\t\t\t\t$array.each(children, (child) => {\n\t\t\t\t\tif (child != dataItem) {\n\t\t\t\t\t\tthis.disableDataItem(child);\n\t\t\t\t\t\tchild.get(\"node\").hide();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis._handleSingle(parent);\n\t\t}\n\t}\n\n\tpublic _positionBullet(bullet: Bullet) {\n\n\t\tconst sprite = bullet.get(\"sprite\");\n\t\tif (sprite) {\n\t\t\tconst dataItem = sprite.dataItem as DataItem<this[\"_dataItemSettings\"]>;\n\n\t\t\tconst locationX = bullet.get(\"locationX\", 0.5);\n\t\t\tconst locationY = bullet.get(\"locationY\", 0.5);\n\n\t\t\tconst slice = dataItem.get(\"slice\");\n\t\t\tconst arc = slice.get(\"arc\", 0);\n\t\t\tconst angle = slice.get(\"startAngle\", 0) + slice.get(\"arc\", 0) * locationX;\n\t\t\tconst innerRadius = slice.get(\"innerRadius\", 0);\n\t\t\tconst radius = innerRadius + (slice.get(\"radius\", 0) - innerRadius) * locationY;\n\n\t\t\tlet x = $math.cos(angle) * radius;\n\t\t\tlet y = $math.sin(angle) * radius;\n\n\t\t\tif ($math.round(arc, 5) === 360 && $math.round(innerRadius, 2) === 0) {\n\t\t\t\tx = 0;\n\t\t\t\ty = 0;\n\t\t\t}\n\n\t\t\tsprite.set(\"x\", x);\n\t\t\tsprite.set(\"y\", y);\n\t\t}\n\t}\n\n\tprotected _makeBullet(dataItem: DataItem<this[\"_dataItemSettings\"]>, bulletFunction: (root: Root, series: Series, dataItem: DataItem<this[\"_dataItemSettings\"]>) => Bullet | undefined, index?: number) {\n\t\tconst bullet = super._makeBullet(dataItem, bulletFunction, index);\n\n\t\tif (bullet) {\n\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\tconst slice = dataItem.get(\"slice\");\n\n\t\t\tif (sprite && slice) {\n\t\t\t\tslice.on(\"arc\", () => {\n\t\t\t\t\tthis._positionBullet(bullet);\n\t\t\t\t})\n\n\t\t\t\tslice.on(\"radius\", () => {\n\t\t\t\t\tthis._positionBullet(bullet);\n\t\t\t\t})\n\t\t\t}\n\n\t\t\treturn bullet;\n\t\t}\n\t}\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","import type { DataItem } from \"../../core/render/Component\";\nimport type { IPoint } from \"../../core/util/IPoint\";\n\nimport { LinkedHierarchy, ILinkedHierarchyPrivate, ILinkedHierarchySettings, ILinkedHierarchyDataItem, ILinkedHierarchyEvents } from \"./LinkedHierarchy\";\n\nimport * as d3hierarchy from \"d3-hierarchy\";\n\nexport interface ITreeDataObject {\n\tname?: string,\n\tvalue?: number,\n\tchildren?: ITreeDataObject[],\n\tdataItem?: DataItem<ITreeDataItem>\n};\n\nexport interface ITreeDataItem extends ILinkedHierarchyDataItem {\n\n\t/**\n\t * An array of children data items.\n\t */\n\tchildren: Array<DataItem<ITreeDataItem>>;\n\n\t/**\n\t * Parent data item.\n\t * @type {DataItem<ITreeDataItem>}\n\t */\n\tparent: DataItem<ITreeDataItem>;\n\n}\n\nexport interface ITreeSettings extends ILinkedHierarchySettings {\n\n\t/**\n\t * Orientation of the diagram.\n\t *\n\t * @default \"vertical\"\n\t */\n\torientation?: \"horizontal\" | \"vertical\";\n\n\t/**\n\t * If set to `true`, will flip the tree direction.\n\t *\n\t * @default false\n\t * @since 5.2.4\n\t */\n\tinversed?: boolean;\n\n}\n\nexport interface ITreePrivate extends ILinkedHierarchyPrivate {\n\n\t/**\n\t * Current horizontal scale.\n\t */\n\tscaleX?: number;\n\n\t/**\n\t * Current vertical scale.\n\t */\n\tscaleY?: number;\n}\n\nexport interface ITreeEvents extends ILinkedHierarchyEvents {\n}\n\n/**\n * Displays a tree diagram.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/tree/} for more info\n * @important\n */\nexport class Tree extends LinkedHierarchy {\n\n\tdeclare public _settings: ITreeSettings;\n\tdeclare public _privateSettings: ITreePrivate;\n\tdeclare public _dataItemSettings: ITreeDataItem;\n\n\tprotected _tag: string = \"tree\";\n\n\tpublic static className: string = \"Tree\";\n\tpublic static classNames: Array<string> = LinkedHierarchy.classNames.concat([Tree.className]);\n\n\tpublic _hierarchyLayout = d3hierarchy.tree();\n\tdeclare public _rootNode: d3hierarchy.HierarchyCircularNode<ITreeDataObject> | undefined;\n\tpublic _packData: ITreeDataObject | undefined;\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tif (this.isDirty(\"orientation\") || this.isDirty(\"inversed\")) {\n\t\t\tthis._updateVisuals();\n\t\t}\n\t}\n\n\tprotected _updateVisuals() {\n\t\tif (this._rootNode) {\n\t\t\tconst layout = this._hierarchyLayout;\n\n\t\t\tif (this.get(\"orientation\") == \"vertical\") {\n\t\t\t\tlayout.size([this.innerWidth(), this.innerHeight()]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlayout.size([this.innerHeight(), this.innerWidth()]);\n\t\t\t}\n\n\t\t\tlayout(this._rootNode);\n\t\t}\n\n\t\tsuper._updateVisuals();\n\t}\n\n\tprotected _getPoint(hierarchyNode: this[\"_dataItemSettings\"][\"d3HierarchyNode\"]): IPoint {\n\t\tconst inversed = this.get(\"inversed\");\n\t\tif (this.get(\"orientation\") == \"vertical\") {\n\t\t\tif (inversed) {\n\t\t\t\treturn { x: hierarchyNode.x, y: this.innerHeight() - hierarchyNode.y };\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn { x: hierarchyNode.x, y: hierarchyNode.y };\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (inversed) {\n\t\t\t\treturn { x: this.innerWidth() - hierarchyNode.y, y: hierarchyNode.x };\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn { x: hierarchyNode.y, y: hierarchyNode.x };\n\t\t\t}\n\t\t}\n\t}\n\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import type { HierarchyNode } from \"./HierarchyNode\";\nimport type { DataItem } from \"../../core/render/Component\";\n\nimport { Hierarchy, IHierarchyPrivate, IHierarchySettings, IHierarchyDataItem, IHierarchyDataObject } from \"./Hierarchy\";\nimport { Template } from \"../../core/util/Template\";\nimport { ListTemplate } from \"../../core/util/List\";\nimport { RoundedRectangle } from \"../../core/render/RoundedRectangle\";\n\nimport * as $array from \"../../core/util/Array\";\nimport * as $type from \"../../core/util/Type\";\nimport * as $utils from \"../../core/util/Utils\";\nimport * as d3hierarchy from \"d3-hierarchy\";\n\nexport interface ITreemapDataObject { name?: string, value?: number, children?: ITreemapDataObject[], dataItem?: DataItem<ITreemapDataItem> };\n\nexport interface ITreemapDataItem extends IHierarchyDataItem {\n\tchildren: Array<DataItem<ITreemapDataItem>>;\n\tparent: DataItem<ITreemapDataItem>;\n\td3HierarchyNode: d3hierarchy.HierarchyRectangularNode<IHierarchyDataObject>;\n\trectangle: RoundedRectangle;\n}\n\nexport interface ITreemapSettings extends IHierarchySettings {\n\n\t/**\n\t * Gap between nodes. In pixels.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/treemap/#Margins}\n\t */\n\tnodePaddingInner?: number;\n\n\t/**\n\t * Gap between nodes and outer edge of the chart. In pixels.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/treemap/#Margins}\n\t */\n\tnodePaddingOuter?: number;\n\n\t/**\n\t * Gap between nodes and top edge.\n\t *\n\t * Will be ignored if `nodePaddingOuter` is set.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/treemap/#Margins}\n\t */\n\tnodePaddingTop?: number;\n\n\t/**\n\t * Gap between nodes and bottomedge.\n\t *\n\t * Will be ignored if `nodePaddingOuter` is set.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/treemap/#Margins}\n\t */\n\tnodePaddingBottom?: number;\n\n\t/**\n\t * Gap between nodes and left edge.\n\t *\n\t * Will be ignored if `nodePaddingOuter` is set.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/treemap/#Margins}\n\t */\n\tnodePaddingLeft?: number;\n\n\t/**\n\t * Gap between nodes and bottom edge.\n\t *\n\t * Will be ignored if `nodePaddingOuter` is set.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/treemap/#Margins}\n\t */\n\tnodePaddingRight?: number;\n\n\t/**\n\t * An algorithm to use when laying out node rectangles.\n\t *\n\t * @see {@link }\n\t * @default \"squarify\"\n\t */\n\tlayoutAlgorithm?: \"binary\" | \"squarify\" | \"slice\" | \"dice\" | \"sliceDice\";\n\n}\n\nexport interface ITreemapPrivate extends IHierarchyPrivate {\n\n\t/**\n\t * Current horizontal scale.\n\t */\n\tscaleX?: number;\n\n\t/**\n\t * Current vertical scale.\n\t */\n\tscaleY?: number;\n\n}\n\n/**\n * Treemap series.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/hierarchy/treemap/} for more info\n */\nexport class Treemap extends Hierarchy {\n\n\tdeclare public _settings: ITreemapSettings;\n\tdeclare public _privateSettings: ITreemapPrivate;\n\tdeclare public _dataItemSettings: ITreemapDataItem;\n\n\tprotected _tag: string = \"treemap\";\n\n\tpublic static className: string = \"Treemap\";\n\tpublic static classNames: Array<string> = Hierarchy.classNames.concat([Treemap.className]);\n\n\tpublic readonly rectangleTemplate: Template<RoundedRectangle> = Template.new({});\n\n\tpublic _treemapLayout = d3hierarchy.treemap().tile(d3hierarchy.treemapSquarify);\n\n\tdeclare public _rootNode: d3hierarchy.HierarchyRectangularNode<ITreemapDataObject> | undefined;\n\n\t/**\n\t * A list of node rectangle elements in a [[Treemap]] chart.\n\t *\n\t * @default new ListTemplate<RoundedRectangle>\n\t */\n\tpublic readonly rectangles: ListTemplate<RoundedRectangle> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => RoundedRectangle._new(this._root, {\n\t\t\tthemeTags: $utils.mergeTags(this.rectangles.template.get(\"themeTags\", []), [this._tag, \"shape\"])\n\t\t}, [this.rectangles.template])\n\t);\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\t\tthis.setPrivate(\"scaleX\", 1);\n\t\tthis.setPrivate(\"scaleY\", 1);\n\t}\n\n\tpublic _prepareChildren() {\n\t\tsuper._prepareChildren();\n\n\t\tif (this.isDirty(\"layoutAlgorithm\")) {\n\t\t\tlet algorithm;\n\n\t\t\tswitch (this.get(\"layoutAlgorithm\")) {\n\t\t\t\tcase \"squarify\":\n\t\t\t\t\talgorithm = d3hierarchy.treemapSquarify;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"binary\":\n\t\t\t\t\talgorithm = d3hierarchy.treemapBinary;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"slice\":\n\t\t\t\t\talgorithm = d3hierarchy.treemapSlice;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"dice\":\n\t\t\t\t\talgorithm = d3hierarchy.treemapDice;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"sliceDice\":\n\t\t\t\t\talgorithm = d3hierarchy.treemapSliceDice;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (algorithm) {\n\t\t\t\tthis._treemapLayout = d3hierarchy.treemap().tile(algorithm);\n\t\t\t}\n\t\t\tif (this._rootNode) {\n\t\t\t\tthis._updateNodes(this._rootNode);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"nodePaddingRight\") || this.isDirty(\"nodePaddingLeft\") || this.isDirty(\"nodePaddingTop\") || this.isDirty(\"nodePaddingBottom\") || this.isDirty(\"nodePaddingOuter\") || this.isDirty(\"nodePaddingInner\")) {\n\t\t\tif (this._rootNode) {\n\t\t\t\tthis._updateNodes(this._rootNode);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isPrivateDirty(\"scaleX\") || this.isPrivateDirty(\"scaleY\")) {\n\t\t\tif (this._rootNode) {\n\t\t\t\tthis._updateNodesScale(this._rootNode);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected _updateVisuals() {\n\t\tif (this._rootNode) {\n\t\t\tconst treemapLayout = this._treemapLayout;\n\t\t\ttreemapLayout.size([this.innerWidth(), this.innerHeight()]);\n\n\t\t\tconst paddingLeft = this.get(\"nodePaddingLeft\");\n\t\t\tconst paddingRight = this.get(\"nodePaddingRight\");\n\t\t\tconst paddingTop = this.get(\"nodePaddingTop\");\n\t\t\tconst paddingBottom = this.get(\"nodePaddingBottom\");\n\t\t\tconst paddingInner = this.get(\"nodePaddingInner\");\n\t\t\tconst paddingOuter = this.get(\"nodePaddingOuter\");\n\t\t\tif ($type.isNumber(paddingLeft)) {\n\t\t\t\ttreemapLayout.paddingLeft(paddingLeft);\n\t\t\t}\n\t\t\tif ($type.isNumber(paddingRight)) {\n\t\t\t\ttreemapLayout.paddingRight(paddingRight);\n\t\t\t}\n\t\t\tif ($type.isNumber(paddingTop)) {\n\t\t\t\ttreemapLayout.paddingTop(paddingTop);\n\t\t\t}\n\t\t\tif ($type.isNumber(paddingBottom)) {\n\t\t\t\ttreemapLayout.paddingBottom(paddingBottom);\n\t\t\t}\n\t\t\tif ($type.isNumber(paddingInner)) {\n\t\t\t\ttreemapLayout.paddingInner(paddingInner);\n\t\t\t}\n\t\t\tif ($type.isNumber(paddingOuter)) {\n\t\t\t\ttreemapLayout.paddingOuter(paddingOuter);\n\t\t\t}\n\n\t\t\ttreemapLayout(this._rootNode);\n\t\t\tthis._updateNodes(this._rootNode);\n\t\t}\n\t}\n\n\tprotected _updateNode(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tsuper._updateNode(dataItem);\n\n\t\tconst node = dataItem.get(\"node\");\n\t\tconst rectangle = dataItem.get(\"rectangle\");\n\t\tconst hierarchyNode = dataItem.get(\"d3HierarchyNode\");\n\n\t\tconst scaleX = this.getPrivate(\"scaleX\", 1);\n\t\tconst scaleY = this.getPrivate(\"scaleY\", 1);\n\n\t\tconst x0 = hierarchyNode.x0 * scaleX;\n\t\tconst x1 = hierarchyNode.x1 * scaleX;\n\t\tconst y0 = hierarchyNode.y0 * scaleY;\n\t\tconst y1 = hierarchyNode.y1 * scaleY;\n\n\t\tconst w = x1 - x0;\n\t\tconst h = y1 - y0;\n\n\t\tconst duration = this.get(\"animationDuration\", 0);\n\t\tconst easing = this.get(\"animationEasing\");\n\n\t\tnode.animate({ key: \"x\", to: x0, duration: duration, easing: easing })\n\t\tnode.animate({ key: \"y\", to: y0, duration: duration, easing: easing })\n\n\t\tnode.animate({ key: \"width\", to: w, duration: duration, easing: easing })\n\t\tnode.animate({ key: \"height\", to: h, duration: duration, easing: easing })\n\n\t\tif (rectangle) {\n\t\t\tconst fill = dataItem.get(\"fill\");\n\n\t\t\trectangle.animate({ key: \"width\", to: w, duration: duration, easing: easing })\n\t\t\trectangle.animate({ key: \"height\", to: h, duration: duration, easing: easing })\n\t\t\trectangle._setDefault(\"fill\", fill);\n\t\t\trectangle._setDefault(\"stroke\", fill);\n\t\t}\n\t}\n\n\n\tprotected _updateNodesScale(hierarchyNode: d3hierarchy.HierarchyRectangularNode<ITreemapDataObject>) {\n\t\tconst dataItem = hierarchyNode.data.dataItem;\n\t\tif (dataItem) {\n\t\t\tconst node = dataItem.get(\"node\");\n\t\t\tconst rectangle = dataItem.get(\"rectangle\");\n\n\t\t\tconst scaleX = this.getPrivate(\"scaleX\", 1);\n\t\t\tconst scaleY = this.getPrivate(\"scaleY\", 1);\n\n\t\t\tconst x0 = hierarchyNode.x0 * scaleX;\n\t\t\tconst x1 = hierarchyNode.x1 * scaleX;\n\t\t\tconst y0 = hierarchyNode.y0 * scaleY;\n\t\t\tconst y1 = hierarchyNode.y1 * scaleY;\n\n\t\t\tconst w = x1 - x0;\n\t\t\tconst h = y1 - y0;\n\n\t\t\tnode.setAll({ x: x0, y: y0, width: w, height: h });\n\t\t\trectangle.setAll({ width: w, height: h });\n\n\t\t\tconst hierarchyChildren = hierarchyNode.children;\n\t\t\tif (hierarchyChildren) {\n\t\t\t\t$array.each(hierarchyChildren, (hierarchyChild) => {\n\t\t\t\t\tthis._updateNodesScale(hierarchyChild)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic makeNode(dataItem: DataItem<this[\"_dataItemSettings\"]>): HierarchyNode {\n\t\tconst node = super.makeNode(dataItem);\n\n\t\tconst rectangle = node.children.moveValue(this.rectangles.make(), 0);\n\n\t\tnode.setPrivate(\"tooltipTarget\", rectangle);\n\t\tdataItem.setRaw(\"rectangle\", rectangle);\n\n\t\tconst label = dataItem.get(\"label\");\n\n\t\trectangle.on(\"width\", () => {\n\t\t\tlabel.setPrivate(\"maxWidth\", rectangle.width());\n\t\t})\n\n\t\trectangle.on(\"height\", () => {\n\t\t\tlabel.setPrivate(\"maxHeight\", rectangle.height());\n\t\t})\n\n\t\treturn node;\n\t}\n\n\tpublic _zoom(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tif (this.width() > 0 && this.height() > 0) {\n\t\t\tconst hierarchyNode = dataItem.get(\"d3HierarchyNode\");\n\n\t\t\tconst nodePaddingOuter = this.get(\"nodePaddingOuter\", 0);\n\n\t\t\tlet x0 = hierarchyNode.x0 + nodePaddingOuter;\n\t\t\tlet x1 = hierarchyNode.x1 - nodePaddingOuter;\n\n\t\t\tlet y0 = hierarchyNode.y0 + nodePaddingOuter;\n\t\t\tlet y1 = hierarchyNode.y1 - nodePaddingOuter;\n\n\t\t\tlet scaleX = (this.innerWidth() - nodePaddingOuter * 2) / (x1 - x0);\n\t\t\tlet scaleY = (this.innerHeight() - nodePaddingOuter * 2) / (y1 - y0);\n\n\t\t\tconst easing = this.get(\"animationEasing\");\n\t\t\tconst duration = this.get(\"animationDuration\", 0);\n\n\t\t\tthis.animatePrivate({ key: \"scaleX\", to: scaleX, duration: duration, easing: easing });\n\t\t\tthis.animatePrivate({ key: \"scaleY\", to: scaleY, duration: duration, easing: easing });\n\n\t\t\tthis.nodesContainer.animate({ key: \"x\", to: nodePaddingOuter - x0 * scaleX, duration: duration, easing: easing });\n\t\t\tthis.nodesContainer.animate({ key: \"y\", to: nodePaddingOuter - y0 * scaleY, duration: duration, easing: easing });\n\t\t}\n\t}\n\n\tprotected _selectDataItem(dataItem?: DataItem<this[\"_dataItemSettings\"]>, downDepth?: number, skipDisptach?: boolean) {\n\t\tsuper._selectDataItem(dataItem, downDepth, skipDisptach);\n\t\tif (dataItem) {\n\t\t\tlet maxDepth = this.get(\"downDepth\", 1) + dataItem.get(\"depth\");\n\t\t\tif (!this.inited) {\n\t\t\t\tmaxDepth = this.get(\"initialDepth\", 1);\n\t\t\t}\n\t\t\tconst visibleNodes = this._getVisibleNodes(dataItem, maxDepth);\n\t\t\tthis.nodes.each((node) => {\n\t\t\t\tif (visibleNodes.indexOf(node.dataItem as DataItem<this[\"_dataItemSettings\"]>) == -1) {\n\t\t\t\t\tnode.setPrivate(\"focusable\", false);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnode.removePrivate(\"focusable\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis._root._invalidateTabindexes();\n\t}\n\n\tprotected _getVisibleNodes(dataItem: DataItem<this[\"_dataItemSettings\"]>, maxDepth: number) {\n\t\tconst children = dataItem.get(\"children\");\n\t\tlet includedChildren: Array<DataItem<this[\"_dataItemSettings\"]>> = [];\n\t\t$array.each(children, (child) => {\n\t\t\tif (child.get(\"depth\") == maxDepth || !child.get(\"children\")) {\n\t\t\t\tincludedChildren.push(child);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tincludedChildren = includedChildren.concat(this._getVisibleNodes(child, maxDepth));\n\t\t\t}\n\t\t});\n\t\treturn includedChildren;\n\t}\n\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n"],"names":["HierarchyDefaultTheme","_Theme","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","_get","_getPrototypeOf","prototype","call","ic","this","_root","interfaceColors","gridLayout","r","rule","bind","setAll","legendLabelText","legendValueText","width","p100","height","colors","ColorSet","new","step","downDepth","initialDepth","singleBranchOnly","maskContent","animationEasing","$ease","toggleKey","setStateOnChildren","position","isMeasured","cursorOverStyle","tooltipText","centerX","p50","centerY","paddingBottom","paddingTop","paddingRight","paddingLeft","text","populateText","oversizedBehavior","minScale","setColor","strokeWidth","strokeOpacity","strength","distance","fillOpacity","radius","tooltipY","opacity","strokeDasharray","scale","interactive","states","create","layout","stateAnimationDuration","fontWeight","upDepth","visible","x","y","rotation","cornerRadiusBR","cornerRadiusTR","cornerRadiusBL","cornerRadiusTL","cornerRadius","textType","baseRadius","minRadius","percent","maxRadius","initialFrames","centerStrength","manyBodyStrength","velocityDecay","linkWithStrength","showOnFrame","Infinity","topDepth","orientation","nodePadding","draggable","layoutAlgorithm","type","minWeightRatio","convergenceRatio","maxIterationCount","layer","Theme","BreadcrumbBar","_Container","_this","Object","defineProperty","_assertThisInitialized","ListTemplate","Template","Label","_new","themeTags","$utils","labels","template","get","background","RoundedRectangle","dataItem","_this2","label","make","_setDataItem","events","on","series","selectDataItem","push","_defaultThemes","_settings","_this3","isDirty","previous","_prevSettings","_disposer","event","_handleDataItem","dispose","set","children","clear","parent","makeLabel","addTag","moveValue","Container","classNames","concat","className","HierarchyNode","disabled","disableDataItem","enableDataItem","_clickDisposer","_isDragging","count","node","sum","i","length","_callee","current","next","n","_regeneratorRuntime","wrap","_context","prev","reverse","pop","stop","_marked","hierarchy","data","Map","undefined","mapChildren","objectChildren","child","childs","root","Node","nodes","Array","from","depth","eachBefore","computeHeight","d","isArray","copyData","_defineProperty","constructor","eachAfter","each","callback","that","_step","index","_iterator","_createForOfIteratorHelper","s","done","err","e","f","find","sort","compare","path","end","start","ancestor","a","b","aNodes","ancestors","bNodes","c","leastCommonAncestor","k","splice","descendants","leaves","links","source","target","copy","Symbol","iterator","node_iterator","Hierarchy","_Series","_super2","_tag","childData","setRaw","nodesContainer","fields","bulletsContainer","_valuesDirty","_treeData","first","dataItems","_makeHierarchyData","_index","_rootNode","d3hierarchy","setPrivateRaw","_updateValues","_sizeDirty","_updateVisuals","_zoom","_selectDataItem","_updateNodes","hierarchyNode","_updateNode","bullets","_makeBullets","hierarchyChildren","$array","hierarchyChild","_dataItem","id","_getDataItemById","di","childDataItem","_this4","bullet","_handleBullets","reset","_this5","makeNode","_processDataItem","DataItem","_makeDataItem","processDataItem","_childData","_this6","dataContext","childDataField","_toConsumableArray","d3HierarchyNode","_this7","getPrivate","dataValue","$type","valuePercent","markDirtyText","updateLegendValue","d3HierarchyChild","_this8","childrenDataArray","_this9","removeValue","disposeDataItem","duration","_this10","promises","hideDataItem","hiddenState","stateAnimationEasing","easing","animate","to","waitForStop","hide","hideTooltip","_this11","Promise","all","_this12","showDataItem","show","_this13","_context2","_callee2","maxDepth","_this14","isHidden","disabledField","applyAnimate","_this15","skipDisptach","dispatch","Math","min","inited","_currentDownDepth","currentDepth","_handleSingle","_this16","bulletFunction","_this17","sprite","_positionBullet","locationX","locationY","hover","unhover","Series","LinkedHierarchyNode","_HierarchyNode","link","_updateLinks","HierarchyLink","_Graphics","_clear","sourceNode","targetNode","_display","moveTo","lineTo","_markDirtyKey","Graphics","LinkedHierarchy","_Hierarchy","Circle","circles","outerCircles","circle","setPrivate","outerCircle","maxWidth","maxHeight","_handleRadiusChange","parentDataItem","linkDataItems","updateLinkWith","linkWith","linkWithDataItem","point","_getPoint","_animatePositions","fill","_setDefault","sourceLinks","lnk","targetLinks","linksContainer","_processLink","_disposeLink","_handleUnlink","linked","_link","_source","_target","m","initialAngle","PI","sqrt","simulation","alpha","alphaMin","alphaDecay","pow","alphaTarget","forces","stepper","timer","random","lcg","tick","iterations","forEach","force","fx","vx","fy","vy","initializeNodes","isNaN","angle","cos","sin","initializeForce","initialize","restart","_","randomSource","name","delete","dx","dy","d2","closest","add","tree","xm","ym","xp","yp","right","bottom","j","leaf","x0","_x0","y0","_y0","x1","_x1","y1","_y1","_x","_y","defaultX","defaultY","quadtree","Quadtree","NaN","addAll","leaf_copy","treeProto","radii","xi","yi","ri","ri2","visitAfter","prepare","visit","quad","rj","l","jiggle","constant","_nodes","_random","nodeById","nodeId","Error","strengths","distances","bias","map","initializeStrength","initializeDistance","cover","xz","yz","floor","z","extent","x2","y2","q","x3","y3","quads","Quad","remove","retainer","removeAll","size","ForceDirected","_LinkedHierarchy","d3Force","d3forceSimulation","_tick","updateNodePositions","_updateForces","d3ForceNode","innerWidth","innerHeight","_nodesDirty","collisionForce","linkForce","_links","restartSimulation","w","max","h","pt","pl","distanceMin2","distanceMax2","theta2","accumulate","weight","abs","distanceMin","distanceMax","theta","d3node","linkDatum","getDistance","getStrength","d3Nodes","d3Node","sourceDataItem","targetDataItem","_updateRadius","valueWorking","d3Link","required","constantZero","packEncloseRandom","p","array","t","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","encloseBasis1","r1","r2","x21","y21","r21","r3","a2","a3","b2","b3","c2","c3","d1","d3","ab","xa","xb","ya","yb","A","C","place","intersects","score","packSiblingsRandom","aa","ca","sj","sk","pack","defaultRadius","padding","radiusLeaf","packChildrenRandom","translateChild","Pack","isPrivateDirty","_updateNodesScale","packLayout","_packLayout","scaleR","animatePrivate","round","partition","treemapDice","positionNode","roundNode","Partition","rectangles","partitionLayout","_partitionLayout","_ref","rectangle","scaleX","scaleY","_makeNode","levelHeight","levelWidth","Sunburst","_Partition","Slice","slices","RadialLabel","bounds","$math","wr","left","hr","top","ir","hs","slice","startAngle","endAngle","sliceStartAngle","arc","sliceInnerRadius","sliceRadius","innerRadius","_updateLabel","labelAngle","scaleDepth","defaultSeparation","nextLeft","v","nextRight","moveSubtree","wm","wp","shift","change","nextAncestor","vim","TreeNode","separation","nodeSize","treeRoot","firstWalk","secondWalk","sizeNode","tx","kx","ky","siblings","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","Tree","_hierarchyLayout","inversed","custom","ratio","squarify","row","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","beta","rows","i0","i1","dice","treemapSlice","squarifyRatio","tile","paddingStack","paddingInner","treemap","paddingOuter","sums","valueOffset","valueTarget","hi","mid","valueLeft","valueRight","xk","yk","Treemap","algorithm","_treemapLayout","treemapLayout","nodePaddingOuter","visibleNodes","_getVisibleNodes","indexOf","removePrivate","_invalidateTabindexes","includedChildren","noop","test","Dispatch","typename","types","T","trim","split","hasOwnProperty","args","taskHead","taskTail","frame","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","window","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","_next","delay","time","wake","timerFlush","t0","t2","t1","sleep","nap","poke","clearTimeout","clearInterval","setInterval","TypeError"],"sourceRoot":""}