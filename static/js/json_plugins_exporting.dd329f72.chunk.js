"use strict";(self.webpackChunkjournalmytrade=self.webpackChunkjournalmytrade||[]).push([[197],{9110:function(t,e,i){i.d(e,{t:function(){return h}});var n=i(7853),a=i(4531),r=i(6148),o=i(4474),s=i(3538),u=i(1020),l=i(8334),c=i(3453),p=i(6683),h=function(t){(0,u.Z)(i,t);var e=(0,l.Z)(i);function i(){var t;return(0,n.Z)(this,i),t=e.apply(this,arguments),Object.defineProperty((0,r.Z)(t),"_display",{enumerable:!0,configurable:!0,writable:!0,value:t._root._renderer.makePicture(void 0)}),t}return(0,a.Z)(i,[{key:"_changed",value:function(){if((0,o.Z)((0,s.Z)(i.prototype),"_changed",this).call(this),this.isDirty("width")){var t=this.get("width");this._display.width=p.hj(t)?t:void 0}if(this.isDirty("height")){var e=this.get("height");this._display.height=p.hj(e)?e:void 0}if(this.isDirty("shadowColor")){this._display.clear();var n=this.get("shadowColor");this._display.shadowColor=null==n?void 0:n}this.isDirty("shadowBlur")&&(this._display.clear(),this._display.shadowBlur=this.get("shadowBlur")),this.isDirty("shadowOffsetX")&&(this._display.clear(),this._display.shadowOffsetX=this.get("shadowOffsetX")),this.isDirty("shadowOffsetY")&&(this._display.clear(),this._display.shadowOffsetY=this.get("shadowOffsetY")),this.isDirty("shadowOpacity")&&(this._display.clear(),this._display.shadowOpacity=this.get("shadowOpacity")),(this.isDirty("src")||this.isDirty("cors"))&&(this._display.clear(),this._load())}},{key:"_load",value:function(){var t=this,e=this.get("src");if(e){var i="loaded",n=new Image;n.crossOrigin=this.get("cors","anonymous"),n.src=e,n.decode().then((function(){t._display.image=n,t._updateSize()})).catch((function(t){i="loaderror"})),this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this})}}},{key:"_updateSize",value:function(){(0,o.Z)((0,s.Z)(i.prototype),"_updateSize",this).call(this);var t=this._display.image;if(t){var e=this.getPrivate("width",this.get("width")),n=this.getPrivate("height",this.get("height")),a=t.width&&t.height?t.width/t.height:0;p.hj(e)&&p.hj(n)?(this._display.width=e,this._display.height=n):p.hj(e)&&a?n=e/a:p.hj(n)&&a?e=n*a:(e=t.width,n=t.height),p.hj(e)&&(this._display.width=e),p.hj(n)&&(this._display.height=n),this.markDirtyBounds(),this.markDirty()}}}]),i}(c.j);Object.defineProperty(h,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Picture"}),Object.defineProperty(h,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:c.j.classNames.concat([h.className])})},8446:function(t,e,i){i.d(e,{Annotator:function(){return D},Exporting:function(){return b},ExportingMenu:function(){return k}});var n,a=i(7853),r=i(4531),o=i(4474),s=i(3538),u=i(1020),l=i(8334),c=i(7166),p=i(5971),h=i(8505),d=i(6817),m=i(2370),f=i(4628),g=i(4921),v=i(4753),y=i(6683);var b=function(t){(0,u.Z)(h,t);var e=(0,l.Z)(h);function h(){return(0,a.Z)(this,h),e.apply(this,arguments)}return(0,r.Z)(h,[{key:"_afterNew",value:function(){(0,o.Z)((0,s.Z)(h.prototype),"_afterNew",this).call(this),this._setRawDefault("filePrefix","chart"),this._setRawDefault("charset","utf-8"),this._setRawDefault("numericFields",[]),this._setRawDefault("dateFields",[]),this._setRawDefault("durationFields",[]),this._setRawDefault("extraImages",[]),this._setRawDefault("pngOptions",{quality:1,maintainPixelRatio:!1}),this._setRawDefault("jpgOptions",{quality:.8,maintainPixelRatio:!1}),this._setRawDefault("printOptions",{quality:1,maintainPixelRatio:!1,delay:500,printMethod:"iframe",imageFormat:"png"}),this._setRawDefault("jsonOptions",{indent:2,renameFields:!0}),this._setRawDefault("csvOptions",{separator:",",addColumnNames:!0,emptyAs:"",addBOM:!0}),this._setRawDefault("htmlOptions",{emptyAs:"-",addColumnNames:!0}),this._setRawDefault("xlsxOptions",{emptyAs:"",addColumnNames:!0}),this._setRawDefault("pdfOptions",{fontSize:14,imageFormat:"png",align:"left",addURL:!0}),this._setRawDefault("pdfdataOptions",{emptyAs:"",addColumnNames:!0}),this._root.addDisposer(this)}},{key:"_beforeChanged",value:function(){if((0,o.Z)((0,s.Z)(h.prototype),"_beforeChanged",this).call(this),this.isDirty("menu")){var t=this.get("menu");t&&(t.set("exporting",this),this._disposers.push(t))}}},{key:"_getFormatOptions",value:function(t,e){var i=v.JG(this.get(t+"Options",{}));return e&&v.S6(e,(function(t,e){i[t]=e})),i}},{key:"download",value:function(t,e){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function i(){var n,a,r,o;return(0,c.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n="pdfdata"==t?"pdf":t,a=this.get("filePrefix","chart")+"."+n,r=this._getFormatOptions(t,e),this.events.dispatch("downloadstarted",{type:"downloadstarted",format:t,options:r,fileName:a,target:this}),i.next=6,this.export(t,r);case 6:o=i.sent,this.streamFile(o,a,r&&r.addBOM);case 8:case"end":return i.stop()}}),i,this)})))}},{key:"print",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){var i,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._getFormatOptions("print",t),this.events.dispatch("printstarted",{type:"printstarted",format:"print",options:i,target:this}),e.next=4,this.export(i.imageFormat||"png",i);case 4:n=e.sent,this.initiatePrint(n,i,this.get("title"));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"export",value:function(t,e){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function i(){var n,a;return(0,c.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=this._getFormatOptions(t,e),this.events.dispatch("exportstarted",{type:"exportstarted",format:t,options:n,target:this}),a="",i.t0=t,i.next="png"===i.t0||"jpg"===i.t0?6:"json"===i.t0?9:"csv"===i.t0?11:"html"===i.t0?13:"xlsx"===i.t0?15:"pdf"===i.t0?17:"pdfdata"===i.t0?20:22;break;case 6:return this._root._runTickerNow(),a=this.exportImage(t,n),i.abrupt("break",22);case 9:return a=this.exportJSON(n),i.abrupt("break",22);case 11:return a=this.exportCSV(n),i.abrupt("break",22);case 13:return a=this.exportHTML(n),i.abrupt("break",22);case 15:return a=this.exportXLSX(n),i.abrupt("break",22);case 17:return this._root._runTickerNow(),a=this.exportPDF(n),i.abrupt("break",22);case 20:return a=this.exportPDFData(n),i.abrupt("break",22);case 22:return this.events.dispatch("exportfinished",{type:"exportfinished",format:t,options:n,target:this}),i.abrupt("return",a);case 24:case"end":return i.stop()}}),i,this)})))}},{key:"exportImage",value:function(t,e){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function i(){var n,a,r;return(0,c.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=this._getFormatOptions(t,e),i.next=3,this.getCanvas(n);case 3:return a=i.sent,r=a.toDataURL(this.getContentType(t),n.quality||1),this.disposeCanvas(a),i.abrupt("return",r);case 7:case"end":return i.stop()}}),i,this)})))}},{key:"exportCanvas",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){var i,n,a;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._getFormatOptions("canvas",t),e.next=3,this.getCanvas(i);case 3:return n=e.sent,a=n.toDataURL(this.getContentType("canvas"),i.quality||1),this.disposeCanvas(n),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getCanvas",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){var i,n,a,r,o,s,u,l,p,h,d,f,v,y,b,x,_;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._root._renderer.getCanvas(this._root._rootContainer._display,t),n=this.get("extraImages",[]),a=0,r=0,o=i.width,s=i.height,u=0,l=0,p=[],g.S6(n,(function(e){var i;(i=e instanceof m.f?{source:e,position:"bottom"}:e).position=i.position||"bottom",i.marginTop=i.marginTop||0,i.marginRight=i.marginRight||0,i.marginBottom=i.marginBottom||0,i.marginLeft=i.marginLeft||0;var n=i.source._renderer.getCanvas(i.source._rootContainer._display,t),c=n.width+i.marginLeft+i.marginRight,h=n.height+i.marginTop+i.marginBottom;"top"==i.position?(o=i.crop?s:Math.max(o,c),r+=h):"right"==i.position?(s=i.crop?s:Math.max(s,h),u+=c):"left"==i.position?(s=i.crop?s:Math.max(s,h),a+=c):"bottom"===i.position&&(o=i.crop?s:Math.max(o,c),l+=h),p.push({canvas:n,position:i.position,left:i.marginLeft,top:i.marginTop,width:c,height:h})})),(h=this.getDisposableCanvas()).width=a+o+u,h.height=r+s+l,d=h.getContext("2d"),f=this.get("backgroundColor",this.findBackgroundColor(this._root.dom)),v=this.get("backgroundOpacity",1),f&&(d.fillStyle=f.toCSS(v),d.fillRect(0,0,h.width,h.height)),x=(y=a)+o,_=(b=r)+s,g.S6(p,(function(t){"top"==t.position?(b-=t.height,d.drawImage(t.canvas,a+t.left,b+t.top)):"right"==t.position?(d.drawImage(t.canvas,x+t.left,r+t.top),x+=t.width):"left"==t.position?(y-=t.width,d.drawImage(t.canvas,y+t.left,r+t.top)):"bottom"===t.position&&(d.drawImage(t.canvas,a+t.left,_+t.top),_+=t.height)})),d.drawImage(i,a,r),e.abrupt("return",h);case 24:case"end":return e.stop()}}),e,this)})))}},{key:"exportJSON",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="data:"+this.getContentType("json")+";"+this.get("charset","utf-8")+",",e.t1=encodeURIComponent,e.next=4,this.getJSON(t);case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",e.t0+e.t3);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getJSON",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){var i,n=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._getFormatOptions("json",t),e.abrupt("return",JSON.stringify(this.getData("json",t,i.renameFields),(function(t,e){return y.Kn(e)&&v.S6(e,(function(t,a){e[t]=n.convertToSpecialFormat(t,a,i)})),e}),i.indent));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"exportCSV",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="data:"+this.getContentType("csv")+";"+this.get("charset","utf-8")+",",e.t1=encodeURIComponent,e.next=4,this.getCSV(t);case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",e.t0+e.t3);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getCSV",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){var i,n,a,r,o,s,u,l,p,h=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this._getFormatOptions("csv",t),n="",a="",r=this.getData("csv",i),o=this.getDataFields(r),i.pivot)s=this.get("dataFieldsOrder",[]),v.JE(o,(function(t,e){var o=[];i.addColumnNames&&o.push(e);for(var s=r.length,u=0;u<s;u++){var l=r[u][t];o.push(h.convertToSpecialFormat(t,l,i,!0))}n+=a+h.getCSVRow(o,i,void 0,!0),a="\n"}),(function(t,e){var i=s.indexOf(t),n=s.indexOf(e);return i>n?-1:i<n?1:0}));else{for(u=r.length,l=0;l<u;l++)p=this.getCSVRow(r[l],i,o),i.reverse?n=p+a+n:n+=a+p,a="\n";i.addColumnNames&&(n=this.getCSVRow(o,i,void 0,!0)+a+n)}return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getCSVRow",value:function(t,e,i){var n=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.separator||",",o=[];i||(i={},v.S6(t,(function(t,e){i[t]=e})));var s=this.get("dataFieldsOrder",[]);return v.JE(i,(function(i,s){var u=n.convertEmptyValue(i,t[i],e),l=a?u:n.convertToSpecialFormat(i,u,e);l=(l=""+l).replace(/"/g,'""'),(e.forceQuotes||l.search(new RegExp('"|\n|'+r,"g"))>=0)&&(l='"'+l+'"'),o.push(l)}),(function(t,e){var i=s.indexOf(t),n=s.indexOf(e);return i>n?1:i<n?-1:0})),o.join(r)}},{key:"exportHTML",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="data:"+this.getContentType("html")+";"+this.get("charset","utf-8")+",",e.t1=encodeURIComponent,e.next=4,this.getHTML(t);case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",e.t0+e.t3);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getHTML",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){var i,n,a,r,o,s,u,l=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this._getFormatOptions("html",t),n="<table>",i.tableClass&&(n='<table class="'+i.tableClass+'">'),a=this.getData("html",i),r=this.getDataFields(a),i.pivot)o=this.get("dataFieldsOrder",[]),n+="\n<tbody>",v.JE(r,(function(t,e){var r=[];i.addColumnNames&&r.push(e);for(var o=a.length,s=0;s<o;s++){var u=a[s][t];r.push(l.convertToSpecialFormat(t,u,i,!0))}n+="\n"+l.getHTMLRow(r,i,void 0,!0)}),(function(t,e){var i=o.indexOf(t),n=o.indexOf(e);return i>n?-1:i<n?1:0})),n+="\n</tbody>";else{for(i.addColumnNames&&(n+="\n<thead>\n"+this.getHTMLRow(r,i,void 0,!0,!0)+"\n</thead>"),n+="\n<tbody>",s=a.length,u=0;u<s;u++)n+="\n"+this.getHTMLRow(a[u],i,r);n+="\n</tbody>"}return n+="\n</table>",e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"getHTMLRow",value:function(t,e,i){var n=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o="\t<tr>";e.rowClass&&(o='\t<tr class="'+e.rowClass+'">'),i||(i=t);var s=this.get("dataFieldsOrder",[]),u=r?"th":"td",l=!0;return v.JE(i,(function(i,r){var s=n.convertEmptyValue(i,t[i],e),c=a?s:n.convertToSpecialFormat(i,s,e);c=(c=""+c).replace(/[\u00A0-\u9999<>\&]/gim,(function(t){return"&#"+t.charCodeAt(0)+";"}));var p=u;e.pivot&&l&&(p="th"),e.cellClass?o+="\n\t\t<"+p+' class="'+e.cellClass+'">'+c+"</"+p+">":o+="\n\t\t<"+p+">"+c+"</"+p+">",l=!1}),(function(t,e){var i=s.indexOf(t),n=s.indexOf(e);return i>n?1:i<n?-1:0})),o+="\n\t</tr>"}},{key:"exportXLSX",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="data:"+this.getContentType("xlsx")+";"+this.get("charset","utf-8")+",",e.t1=encodeURIComponent,e.next=4,this.getXLSX(t);case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",e.t0+e.t3);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getXLSX",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){var i,n,a,r,o,s,u,l,p,h,d,m=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._getFormatOptions("xlsx",t),e.next=3,this.getXLSXLib();case 3:if(n=e.sent,a={bookType:"xlsx",bookSST:!1,type:"base64"},r=this._normalizeExcelSheetName(this.get("title",this._t("Data"))),o={SheetNames:[r],Sheets:{}},s=[],u=this.getData("html",i),l=this.getDataFields(u),i.pivot)p=this.get("dataFieldsOrder",[]),v.JE(l,(function(t,e){var n=[];i.addColumnNames&&n.push(e);for(var a=u.length,r=0;r<a;r++){var o=u[r][t];n.push(m.convertToSpecialFormat(t,o,i,!0))}s.push(m.getXLSXRow(n,i,void 0,!0))}),(function(t,e){var i=p.indexOf(t),n=p.indexOf(e);return i>n?1:i<n?-1:0}));else for(i.addColumnNames&&s.push(this.getXLSXRow(l,i,void 0,!0)),h=u.length,d=0;d<h;d++)s.push(this.getXLSXRow(u[d],i,l));return o.Sheets[r]=n.utils.aoa_to_sheet(s),this.events.dispatch("workbookready",{type:"workbookready",format:"xlsx",options:i,workbook:o,workbookOptions:a,xlsx:n,target:this}),e.abrupt("return",n.write(o,a));case 14:case"end":return e.stop()}}),e,this)})))}},{key:"_normalizeExcelSheetName",value:function(t){return(t=t.replace(/([:\\\/?*\[\]]+)/g," ")).length>30?t.substr(0,30)+"...":t}},{key:"getXLSXRow",value:function(t,e,i){var n=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[];i||(i=t);var o=this.get("dataFieldsOrder",[]);return v.JE(i,(function(i,o){var s=n.convertEmptyValue(i,t[i],e),u=a?s:n.convertToSpecialFormat(i,s,e,!0);r.push(u)}),(function(t,e){var i=o.indexOf(t),n=o.indexOf(e);return i>n?1:i<n?-1:0})),r}},{key:"_xlsx",value:function(){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e(297).then(i.bind(i,8554));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}},{key:"getXLSXLib",value:function(){return this._xlsx()}},{key:"exportPDF",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="data:"+this.getContentType("pdf")+";"+this.get("charset","utf-8")+",",e.t1=encodeURIComponent,e.next=4,this.getPDF(t,!0);case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",e.t0+e.t3);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"exportPDFData",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="data:"+this.getContentType("pdf")+";"+this.get("charset","utf-8")+",",e.t1=encodeURIComponent,e.next=4,this.getPDF(t,!1,!0);case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",e.t0+e.t3);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getPDF",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function n(){var a,r,o,s,u,l,p,h,d,m,f,v;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(v=function(t){var e={};e.normal=t.normal.path,f[t.normal.path]=t.normal.bytes,t.bold?(e.bold=t.bold.path,f[t.bold.path]=t.bold.bytes):e.bold=t.normal.path,t.italics?(e.italics=t.italics.path,f[t.italics.path]=t.italics.bytes):e.italics=t.normal.path,t.bolditalics?(e.bolditalics=t.bolditalics.path,f[t.bolditalics.path]=t.bolditalics.bytes):e.bolditalics=t.normal.path,m[t.name]=e},a=this._getFormatOptions("pdf",t),r=this._getFormatOptions("pdfdata",t),o=a.pageOrientation||"portrait",!e){n.next=8;break}return n.next=7,this.exportImage(a.imageFormat||"png",a);case 7:s=n.sent;case 8:return n.next=10,this.getPdfmake();case 10:if(u=n.sent,l=[30,30,30,30],p={pageSize:a.pageSize||"A4",pageOrientation:o,pageMargins:a.pageMargins||l,defaultStyle:{font:a.font?a.font.name:void 0},content:[]},h=this.get("title"),d=0,h&&(p.content.push({text:h,fontSize:a.fontSize||14,bold:!0,margin:[0,0,0,15]}),d+=50),a.addURL&&(p.content.push({text:this._t("Saved from")+": "+document.location.href,fontSize:a.fontSize,margin:[0,0,0,15]}),d+=50),e&&s&&p.content.push({image:s,alignment:a.align||"left",fit:this.getPageSizeFit(p.pageSize,p.pageMargins,d,o)}),!i&&!a.includeData||!this.hasData()){n.next=26;break}return n.t0=p.content,n.next=22,this.getPDFData(r);case 22:n.t1=n.sent,n.t2=a.fontSize||14,n.t3={table:n.t1,fontSize:n.t2},n.t0.push.call(n.t0,n.t3);case 26:return m=null,f=null,a.font&&(m={},f={},v(a.font),a.extraFonts&&g.S6(a.extraFonts,v)),this.events.dispatch("pdfdocready",{type:"pdfdocready",format:"pdf",options:a,doc:p,target:this}),n.abrupt("return",new Promise((function(t,e){u.createPdf(p,null,m,f).getBase64((function(e){t(e)}))})));case 31:case"end":return n.stop()}}),n,this)})))}},{key:"getPDFData",value:function(t){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function e(){var i,n,a,r,o,s,u,l=this;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this._getFormatOptions("pdfdata",t),n={body:[]},a=this.getData("html",i),r=this.getDataFields(a),i.pivot)o=this.get("dataFieldsOrder",[]),v.JE(r,(function(t,e){var r=[];i.addColumnNames&&r.push(e);for(var o=a.length,s=0;s<o;s++){var u=a[s][t];r.push(l.convertToSpecialFormat(t,u,i,!0))}n.body.push(l.getPDFDataRow(r,i,void 0,!0))}),(function(t,e){var i=o.indexOf(t),n=o.indexOf(e);return i>n?1:i<n?-1:0}));else for(i.addColumnNames&&(n.body.push(this.getPDFDataRow(r,i,void 0,!0)),n.headerRows=1),s=a.length,u=0;u<s;u++)n.body.push(this.getPDFDataRow(a[u],i,r));return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"getPDFDataRow",value:function(t,e,i){var n=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[];i||(i=t);var o=this.get("dataFieldsOrder",[]);return v.JE(i,(function(i,o){var s=n.convertEmptyValue(i,t[i],e),u=a?s:n.convertToSpecialFormat(i,s,e);u=""+u,r.push(u)}),(function(t,e){var i=o.indexOf(t),n=o.indexOf(e);return i>n?1:i<n?-1:0})),r}},{key:"getPdfmake",value:function(){return void 0===n&&(n=function(){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function t(){var e,n,a,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([i.e(643).then(i.t.bind(i,6435,23)),i.e(643).then(i.bind(i,5630))]);case 2:return e=t.sent,n=e[0].default,a=e[1].default,(r=window).pdfMake=r.pdfMake||{},r.pdfMake.vfs=a,n.vfs=a,t.abrupt("return",n);case 10:case"end":return t.stop()}}),t)})))}()),n}},{key:"getPageSizeFit",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"portrait",a=[0,0,0,0];y.hj(e)?a=[e,e,e,e]:2==e.length?a=[e[0],e[1],e[0],e[1]]:4==e.length&&(a=e);var r={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}[t];return"landscape"==n&&r.reverse(),r[0]-=a[0]+a[2],r[1]-=a[1]+a[3]+i,r}},{key:"hasData",value:function(){var t=this.get("dataSource");return!(!y.kJ(t)||!t.length)}},{key:"getData",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this._getFormatOptions(t,e),r=this.get("dataSource",[]),o=r,s=this.get("dataFields");s&&y.kJ(r)&&(o=[],g.S6(r,(function(t){if(y.Kn(t)){var e={};v.S6(s,(function(r,o){null!=s[r]&&(e[n?o:r]=i.convertToSpecialFormat(r,t[r],a))})),o.push(e)}})));var u={type:"dataprocessed",format:t,options:a,data:o,target:this};return this.events.dispatch("dataprocessed",u),u.data}},{key:"getDataFields",value:function(t){var e=this.get("dataFields");return e||(e={},y.kJ(t)&&t.length&&g.S6(t,(function(t){v.S6(t,(function(t,i){null==e[t]&&(e[t]=t)}))}))),e}},{key:"convertEmptyValue",value:function(t,e,i){return null!=e?e:i.emptyAs}},{key:"convertToSpecialFormat",value:function(t,e,i,n){if("number"==typeof e)if(this.isDateField(t))e=new Date(e);else{if(this.isNumericField(t)&&this.get("numberFormat"))return this._root.numberFormatter.format(e,this.get("numberFormat"));if(this.isDurationField(t))return this._root.durationFormatter.format(e,this.get("durationFormat"),this.get("durationUnit"))}return e instanceof Date&&(i.useTimestamps?e=e.getTime():i.useLocale?n||(e=e.toLocaleString()):e=this._root.dateFormatter.format(e,this.get("dateFormat"))),e}},{key:"isDateField",value:function(t){return-1!==this.get("dateFields").indexOf(t)}},{key:"isNumericField",value:function(t){return-1!==this.get("numericFields").indexOf(t)}},{key:"isDurationField",value:function(t){return-1!==this.get("durationFields").indexOf(t)}},{key:"getContentType",value:function(t){var e="";switch(t){case"png":e="image/"+t;break;case"jpg":e="image/jpeg";break;case"csv":e="text/csv";break;case"json":e="application/json";break;case"html":e="text/html";break;case"pdf":case"pdfdata":e="application/pdf";break;case"xlsx":e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;default:e="application/octet-stream"}return e}},{key:"getDisposableCanvas",value:function(){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="-10000px",this._root.dom.appendChild(t),t}},{key:"disposeCanvas",value:function(t){this._root.dom.removeChild(t)}},{key:"findBackgroundColor",value:function(t){var e=1,i=getComputedStyle(t,"background-color").getPropertyValue("background-color");if((i.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||"transparent"==i)&&(e=0),0==e){var n=t.parentElement;return n?this.findBackgroundColor(n):d.Il.fromHex(16777215)}return d.Il.fromCSS(i)}},{key:"streamFile",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.blobDownloadSupport()){var n=document.createElement("a");n.download=e,document.body.appendChild(n);var a=t.split(";"),r=a.shift().replace(/data:/,"");if(t=decodeURIComponent(a.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv","text/html"].indexOf(r)){i&&(t="\ufeff"+t);var o=new Blob([t],{type:r}),s=window.URL.createObjectURL(o);return n.href=s,n.download=e,n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(s)}),100),!0}try{t=atob(t)}catch(m){return!1}for(var u=new Array(t.length),l=0;l<t.length;++l){var c=t.charCodeAt(l);u[l]=c}i&&(u=[239,187,191].concat(u));var p=new Blob([new Uint8Array(u)],{type:r}),h=window.URL.createObjectURL(p);n.href=h,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout((function(){window.URL.revokeObjectURL(h)}),100)}else if(this.linkDownloadSupport()){var d=document.createElement("a");d.download=e,d.href=t,document.body.appendChild(d),d.click(),document.body.removeChild(d)}else window.location.href=t;return!0}},{key:"downloadSupport",value:function(){return this.linkDownloadSupport()}},{key:"linkDownloadSupport",value:function(){return"undefined"!==typeof document.createElement("a").download}},{key:"blobDownloadSupport",value:function(){return null!=window.Blob}},{key:"initiatePrint",value:function(t,e,i){var n=this._getFormatOptions("print",e);"css"==n.printMethod?this._printViaCSS(t,n,i):this._printViaIframe(t,n,i)}},{key:"_printViaCSS",value:function(t,e,i){var n,a=this._getFormatOptions("print",e).delay||500,r=document.documentElement.scrollTop||document.body.scrollTop,o=new f.u0(f.Ay(this._root.dom),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"},this._root.nonce);i&&document&&document.title&&(n=document.title,document.title=i);var s=new Image;s.src=t,s.style.maxWidth="100%",s.style.display="block",s.style.position="relative",s.style.visibility="visible",s.style.opacity="1",s.style.clipPath="none",document.body.appendChild(s),this.setTimeout((function(){window.print()}),50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&a<1e3?a=1e3:a<100&&(a=100),this.setTimeout((function(){document.body.removeChild(s),o.dispose(),n&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=r}),a||500)}},{key:"_printViaIframe",value:function(t,e,i){var n=this._getFormatOptions("print",e).delay||500,a=document.createElement("iframe");a.style.visibility="hidden",document.body.appendChild(a),a.contentWindow.document.open(),a.contentWindow.document.close();var r=new Image;r.src=t,r.style.maxWidth="100%",r.style.height="auto",i&&(a.contentWindow.document.title=i),a.contentWindow.document.body.appendChild(r),a.load=function(){a.contentWindow.document.body.appendChild(r)},this.setTimeout((function(){try{a.contentWindow.document.execCommand("print",!1,null)||a.contentWindow.print()}catch(t){a.contentWindow.print()}}),n||50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&n<1e3?n=1e3:n<100&&(n=100),this.setTimeout((function(){document.body.removeChild(a)}),n+50||100)}},{key:"supportedFormats",value:function(){var t=this,e=[],i=this.hasData(),n=this.downloadSupport();return g.S6(["png","jpg","canvas","pdf","xlsx","csv","json","html","pdfdata","print"],(function(a){!0!==t._getFormatOptions(a).disabled&&(-1==["xlsx","csv","json","html","pdfdata"].indexOf(a)||i&&n)&&e.push(a)})),e}},{key:"supportedExportTypes",value:function(){var t=["image","print"];return this.downloadSupport()&&this.hasData()&&t.push("data"),t}}]),h}(h.JH);Object.defineProperty(b,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Exporting"}),Object.defineProperty(b,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.JH.classNames.concat([b.className])});var x,_=i(6148),w=i(1624);var k=function(t){(0,u.Z)(i,t);var e=(0,l.Z)(i);function i(){var t;return(0,a.Z)(this,i),t=e.apply(this,arguments),Object.defineProperty((0,_.Z)(t),"_menuElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,_.Z)(t),"_iconElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,_.Z)(t),"_listElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,_.Z)(t),"_itemElements",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty((0,_.Z)(t),"_itemDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty((0,_.Z)(t),"_cssDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,_.Z)(t),"_activeItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,_.Z)(t),"isOpen",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty((0,_.Z)(t),"_isOver",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t}return(0,r.Z)(i,[{key:"_afterNew",value:function(){var t=this;(0,o.Z)((0,s.Z)(i.prototype),"_afterNew",this).call(this),this._setRawDefault("container",this._root._inner),this._setRawDefault("align","right"),this._setRawDefault("valign","top"),this._setRawDefault("useDefaultCSS",!0),this._setRawDefault("autoClose",!0),this._setRawDefault("deactivateRoot",!0),this._setRawDefault("items",[{type:"separator",label:this._t("Export")},{type:"format",format:"png",exportType:"image",label:this._t("PNG"),sublabel:this._t("Image")},{type:"format",format:"jpg",exportType:"image",label:this._t("JPG"),sublabel:this._t("Image")},{type:"format",format:"pdf",exportType:"image",label:this._t("PDF"),sublabel:this._t("Image")},{type:"separator",exportType:"data"},{type:"format",format:"json",exportType:"data",label:this._t("JSON"),sublabel:this._t("Data")},{type:"format",format:"csv",exportType:"data",label:this._t("CSV"),sublabel:this._t("Data")},{type:"format",format:"xlsx",exportType:"data",label:this._t("XLSX"),sublabel:this._t("Data")},{type:"format",format:"pdfdata",exportType:"data",label:this._t("PDF"),sublabel:this._t("Data")},{type:"format",format:"html",exportType:"data",label:this._t("HTML"),sublabel:this._t("Data")},{type:"separator"},{type:"format",format:"print",exportType:"print",label:this._t("Print")}]);var e=document.createElement("div");this._menuElement=e,this.setPrivate("menuElement",this._menuElement);var n=document.createElement("a");this._iconElement=n,this._listElement=document.createElement("ul"),this._listElement.setAttribute("role","menu"),this.setPrivate("listElement",this._listElement),this._applyClassNames(),n.innerHTML='<svg fill="none" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"/></svg>',n.setAttribute("tabindex",this._root.tabindex.toString()),n.setAttribute("aria-label",this._t("Export")+"; "+this._t("Press ENTER to open")),n.setAttribute("role","button"),f.be("keyboardevents")&&this._disposers.push(f.Oo(document,"keydown",(function(e){if(document.activeElement==t._iconElement||t.isOpen)if(27==e.keyCode)t.close();else if(13==e.keyCode)t._activeItem?t._handleClick(t._activeItem):t.toggle();else if(38==e.keyCode||40==e.keyCode){var i=t.get("items",[]),n=i.indexOf(t._activeItem);"top"==t.get("valign")&&-1==n&&(n=i.length);var a,r=38==e.keyCode?-1:1,o=n+r;do{o<0?o=i.length-1:o>i.length-1&&(o=0),"separator"==i[o].type?o+=r:a=i[o]}while(!a);a&&t._handleItemFocus(a)}}))),this._disposers.push(f.Oo(n,"click",(function(e){e.stopImmediatePropagation(),t.toggle()}))),e.appendChild(this._iconElement),e.appendChild(this._listElement);var a=this.get("container",this._root._inner);a.appendChild(this._menuElement),this._disposers.push(f.Oo(e,f.FL("pointerover"),(function(e){t._isOver=!0,t.get("deactivateRoot")&&(t._root._renderer.interactionsEnabled=!1)}))),this._disposers.push(f.Oo(e,f.FL("pointerout"),(function(e){t.get("deactivateRoot")&&(t.isOpen||t._isOver)&&(t._root._renderer.interactionsEnabled=!0),t._isOver=!1}))),this._disposers.push(new w.ku((function(){t._menuElement&&a.removeChild(t._menuElement)}))),this._disposers.push(f.Oo(document,"click",(function(e){t.isOpen&&!t._isOver&&t.close()}))),this.loadDefaultCSS(),this._root.addDisposer(this),this.events.dispatch("menucreated",{type:"menucreated",target:this})}},{key:"_afterChanged",value:function(){((0,o.Z)((0,s.Z)(i.prototype),"_afterChanged",this).call(this),0==this._itemElements.length&&this.createItems(),this.isDirty("useDefaultCSS")&&(this.get("useDefaultCSS")?this.loadDefaultCSS():this._cssDisposer&&this._cssDisposer.dispose()),this.isDirty("exporting"))&&(this.get("exporting")&&this.createItems());if((this.isDirty("align")||this.isDirty("valign"))&&this._applyClassNames(),this.isDirty("container")){var t=this.get("container");t&&t.appendChild(this._menuElement)}}},{key:"_dispose",value:function(){(0,o.Z)((0,s.Z)(i.prototype),"_dispose",this).call(this),g.S6(this._itemDisposers,(function(t){t.dispose()}))}},{key:"_applyClassNames",value:function(){var t=this.get("align","right"),e=this.get("valign","top"),i=this.isOpen?"am5exporting-menu-open":"am5exporting-menu-closed";this._menuElement.className="am5exporting am5exporting-menu am5exporting-align-"+t+" am5exporting-valign-"+e+" "+i,this._iconElement.className="am5exporting am5exporting-icon am5exporting-align-"+t+" am5exporting-valign-"+e,this._listElement.className="am5exporting am5exporting-list am5exporting-align-"+t+" am5exporting-valign-"+e}},{key:"createItems",value:function(){var t=this,e=this.get("exporting");if(e){this._listElement.innerHTML="",this._itemElements=[];var i=this.get("items",[]),n=e.supportedFormats(),a=e.supportedExportTypes();g.S6(this._itemDisposers,(function(t){t.dispose()})),this._itemDisposers.length=0,g.S6(i,(function(i){if((!i.format||-1!=n.indexOf(i.format))&&(!i.exportType||-1!=a.indexOf(i.exportType))){var r=document.createElement("li");r.setAttribute("role","menuitem"),r.className="am5exporting am5exporting-item am5exporting-type-"+i.type,i.format&&(r.className+=" am5exporting-format-"+i.format);var o=document.createElement("a"),s=t._t("Export");i.label&&(o.innerHTML=i.label,s+=" "+i.label),i.sublabel&&(o.innerHTML+=' <span class="am5exporting-label-alt">'+i.sublabel+"</span>",s+=" ("+i.sublabel+")"),i.callback?(t._itemDisposers.push(f.Oo(o,"click",(function(e){i.callback.call(i.callbackTarget||t)}))),o.setAttribute("tabindex",t._root.tabindex.toString())):i.format&&e&&(t._itemDisposers.push(f.Oo(o,"click",(function(e){t._handleClick(i)}))),t._itemDisposers.push(f.Oo(o,"focus",(function(e){t._handleItemFocus(i)}))),t._itemDisposers.push(f.Oo(o,"blur",(function(e){t._handleItemBlur(i)}))),o.setAttribute("tabindex",t._root.tabindex.toString()),o.setAttribute("aria-label",s)),i.element=o,r.appendChild(o),t._listElement.appendChild(r),t._itemElements.push(r)}}))}}},{key:"_handleClick",value:function(t){var e=this.get("exporting");this.get("autoClose")&&this.close(),"print"==t.format?e.print():e.download(t.format)}},{key:"_handleItemFocus",value:function(t){t!=this._activeItem&&(this._activeItem&&(this._activeItem.element.className=""),this._activeItem=t,t.element.className="am5exporting-item-active",t.element.focus())}},{key:"_handleItemBlur",value:function(t){var e=this;t.element.className="",t==this._activeItem&&(this._activeItem=void 0),this.setTimeout((function(){document.activeElement&&f.r3(e.get("container"),document.activeElement)||e.close()}),10)}},{key:"loadDefaultCSS",value:function(){var t=function(t,e,i){var n=e.interfaceColors;if(!x){var a=new w.FV([new f.u0(t,".am5exporting-menu",{color:n.get("secondaryButtonText").toCSS(),"font-size":"0.8em"}),new f.u0(t,".am5exporting-menu *",{"box-sizing":"border-box",transition:"all 100ms ease-in-out"}),new f.u0(t,".am5exporting-menu a",{display:"block",cursor:"pointer"}),new f.u0(t,".am5exporting-type-separator",{color:n.get("disabled").toCSS(),"border-bottom":"1px solid "+n.get("secondaryButtonDown").toCSS()}),new f.u0(t,".am5exporting-label-alt",{color:n.get("disabled").toCSS(),"font-size":"0.8em"}),new f.u0(t,".am5exporting-menu .am5exporting-type-separator a",{cursor:"default"}),new f.u0(t,".am5exporting-menu .am5exporting-type-separator a:hover",{background:"initial"}),new f.u0(t,".am5exporting-menu",{position:"absolute","z-index":"10"}),new f.u0(t,".am5exporting-icon",{width:"30px",height:"26px",position:"absolute",margin:"5px",padding:"3px 5px","border-radius":"3px",opacity:"0.5",background:"rgba(255, 255, 255, 0.001)","background-opacity":"0"}),new f.u0(t,".am5exporting-icon:focus, .am5exporting-icon:hover, .am5exporting-menu-open .am5exporting-icon",{background:n.get("secondaryButtonHover").toCSS(),opacity:"1"}),new f.u0(t,".am5exporting-menu path",{fill:n.get("secondaryButtonText").toCSS()}),new f.u0(t,".am5exporting-list",{display:"none","list-style":"none","list-style-type":"none",margin:"5px",background:n.get("secondaryButton").toCSS(),padding:"5px 0",border:"1px solid "+n.get("secondaryButtonStroke").toCSS(),"border-radius":"3px"}),new f.u0(t,".am5exporting-menu-open .am5exporting-list",{display:"block"}),new f.u0(t,".am5exporting-item",{}),new f.u0(t,".am5exporting-item a",{padding:"3px 15px"}),new f.u0(t,".am5exporting-item a:hover, .am5exporting-item a.am5exporting-item-active",{background:n.get("secondaryButtonHover").toCSS()}),new f.u0(t,".am5exporting-menu.am5exporting-align-left, .am5exporting-icon.am5exporting-align-left, .am5exporting-list.am5exporting-align-left",{left:"0"}),new f.u0(t,".am5exporting-menu.am5exporting-align-right, .am5exporting-icon.am5exporting-align-right, .am5exporting-list.am5exporting-align-right",{right:"0"}),new f.u0(t,".am5exporting-menu.am5exporting-valign-top, .am5exporting-icon.am5exporting-valign-top, .am5exporting-list.am5exporting-align-top",{top:"0"}),new f.u0(t,".am5exporting-menu.am5exporting-valign-bottom, .am5exporting-icon.am5exporting-valign-bottom, .am5exporting-list.am5exporting-align-bottom",{bottom:"0"}),new f.u0(t,".am5exporting-list.am5exporting-align-left",{"margin-left":"40px"}),new f.u0(t,".am5exporting-list.am5exporting-align-right",{"margin-right":"40px"})]);x=new w.DM((function(){x=void 0,a.dispose()}))}return x.increment()}(f.Ay(this._root.dom),this._root);this._disposers.push(t),this._cssDisposer=t}},{key:"open",value:function(){var t=this;this.setTimeout((function(){t.isOpen=!0,t.get("deactivateRoot")&&(t._root._renderer.interactionsEnabled=!1),t._applyClassNames(),t.events.dispatch("menuopened",{type:"menuopened",target:t})}),1)}},{key:"close",value:function(){this.isOpen=!1,this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),f.yv(),this._applyClassNames(),this.events.dispatch("menuclosed",{type:"menuclosed",target:this})}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}}]),i}(h.JH);Object.defineProperty(k,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ExportingMenu"}),Object.defineProperty(k,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.JH.classNames.concat([k.className])});var S=i(7919),C=i(9110),O=i(565),D=function(t){(0,u.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,a.Z)(this,n),t=e.apply(this,arguments),Object.defineProperty((0,_.Z)(t),"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,_.Z)(t),"_picture",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,_.Z)(t),"_markerArea",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,_.Z)(t),"_skipRender",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t}return(0,r.Z)(n,[{key:"_afterNew",value:function(){(0,o.Z)((0,s.Z)(n.prototype),"_afterNew",this).call(this),this._setRawDefault("layer",1e3),this._root.addDisposer(this)}},{key:"_beforeChanged",value:function(){(0,o.Z)((0,s.Z)(n.prototype),"_beforeChanged",this).call(this),this.isDirty("markerState")&&this._renderState()}},{key:"open",value:function(){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function t(){var e,i=this;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setTimeout((function(){i._root._renderer.interactionsEnabled=!1}),100),t.next=3,this.getMarkerArea();case 3:(e=t.sent).show(),this._picture.hide(0),this.get("markerState")&&e.restoreState(this.get("markerState"));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"_renderState",value:function(){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getMarkerArea();case 2:e=t.sent,this.get("markerState")&&(this._skipRender=!0,e.renderState(this.get("markerState")));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"close",value:function(){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getMarkerArea();case 2:t.sent.close(),this._markerArea=void 0;case 5:case"end":return t.stop()}}),t,this)})))}},{key:"cancel",value:function(){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function t(){var e;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._root._renderer.interactionsEnabled=!0,t.next=3,this.getMarkerArea();case 3:e=t.sent,this._picture.show(0),e.close(),this._markerArea=void 0;case 7:case"end":return t.stop()}}),t,this)})))}},{key:"clear",value:function(){this.set("markerState",void 0),this._picture&&this._picture.set("src","")}},{key:"toggle",value:function(){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getMarkerArea();case 2:t.sent.isOpen?this.close():this.open();case 4:case"end":return t.stop()}}),t,this)})))}},{key:"dispose",value:function(){(0,o.Z)((0,s.Z)(n.prototype),"dispose",this).call(this),this._markerArea&&this._markerArea.isOpen&&this._markerArea.close()}},{key:"_maybeInit",value:function(){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function t(){var e,i,n,a=this;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._container||(this._container=this._root.container.children.push(S.W.new(this._root,{width:O.AQ,height:O.AQ,layer:this.get("layer"),interactiveChildren:!1})),this._picture=this._container.children.push(C.t.new(this._root,{width:O.AQ,height:O.AQ}))),this._markerArea){t.next=13;break}return t.next=4,this._getMarkerJS();case 4:e=t.sent,i=this._container._display.getCanvas(),(n=new e.MarkerArea(i)).uiStyleSettings.logoPosition="right",n.uiStyleSettings.zIndex=20,n.targetRoot=i.parentElement,this._disposers.push(f.Oo(n,"close",(function(){a._root._renderer.interactionsEnabled=!0,a._picture.show(0),a._markerArea=void 0}))),this._disposers.push(f.Oo(n,"render",(function(t){a._picture.set("src",t.dataUrl),a._skipRender||a.set("markerState",t.state),a._skipRender=!1}))),this._markerArea=n;case 13:case"end":return t.stop()}}),t,this)})))}},{key:"_getMarkerJS",value:function(){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e(384).then(i.bind(i,2731));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}},{key:"getMarkerArea",value:function(){return(0,p.mG)(this,void 0,void 0,(0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._maybeInit();case 2:return t.abrupt("return",this._markerArea);case 3:case"end":return t.stop()}}),t,this)})))}}]),n}(h.JH);Object.defineProperty(D,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Annotator"}),Object.defineProperty(D,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:h.JH.classNames.concat([D.className])})}}]);
//# sourceMappingURL=json_plugins_exporting.dd329f72.chunk.js.map